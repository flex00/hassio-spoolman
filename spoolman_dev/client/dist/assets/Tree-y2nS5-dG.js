import{aO as De,am as R,aN as Me,ac as Rn,aM as Ne,aF as oe,ad as Tr,bK as Rt,r as d,ah as z,be as je,bd as Dt,bA as Lr,c8 as ln,_ as V,bL as Dn,c9 as Tn,a3 as G,aj as M,bI as Tt,ca as dn,bM as Pr,cb as dt,cc as sn,cd as cn,ce as Ir,cf as un,cg as Or,al as ct,aA as Ln,aB as Pn,aC as In,ch as Oe,aD as On,at as Mr,ai as Ve}from"./index-DVifsFYV.js";import{L as Mn}from"./index-fxb4jQRc.js";function he(t,o){return t[o]}var $r=["children"];function $n(t,o){return"".concat(t,"-").concat(o)}function _r(t){return t&&t.type&&t.type.isTreeNode}function et(t,o){return t??o}function ut(t){var o=t||{},l=o.title,e=o._title,a=o.key,s=o.children,f=l||"title";return{title:f,_title:e||[f],key:a||"key",children:s||"children"}}function Ar(t){function o(l){var e=Rn(l);return e.map(function(a){if(!_r(a))return Me(!a,"Tree/TreeNode can only accept TreeNode as children."),null;var s=a.key,f=a.props,n=f.children,r=Ne(f,$r),i=R({key:s},r),c=o(n);return c.length&&(i.children=c),i}).filter(function(a){return a})}return o(t)}function Nt(t,o,l){var e=ut(l),a=e._title,s=e.key,f=e.children,n=new Set(o===!0?[]:o),r=[];function i(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return c.map(function(v,p){for(var m=$n(u?u.pos:"0",p),g=et(v[s],m),y,h=0;h<a.length;h+=1){var x=a[h];if(v[x]!==void 0){y=v[x];break}}var C=R(R({},Tr(v,[].concat(oe(a),[s,f]))),{},{title:y,key:g,parent:u,pos:m,children:null,data:v,isStart:[].concat(oe(u?u.isStart:[]),[p===0]),isEnd:[].concat(oe(u?u.isEnd:[]),[p===c.length-1])});return r.push(C),o===!0||n.has(g)?C.children=i(v[f]||[],C):C.children=[],C})}return i(t),r}function Hr(t,o,l){var e={};De(l)==="object"?e=l:e={externalGetKey:l},e=e||{};var a=e,s=a.childrenPropName,f=a.externalGetKey,n=a.fieldNames,r=ut(n),i=r.key,c=r.children,u=s||c,v;f?typeof f=="string"?v=function(g){return g[f]}:typeof f=="function"&&(v=function(g){return f(g)}):v=function(g,y){return et(g[i],y)};function p(m,g,y,h){var x=m?m[u]:t,C=m?$n(y.pos,g):"0",S=m?[].concat(oe(h),[m]):[];if(m){var E=v(m,C),b={node:m,index:g,pos:C,key:E,parentPos:y.node?y.pos:null,level:y.level+1,nodes:S};o(b)}x&&x.forEach(function(L,T){p(L,T,{node:m,pos:C,level:y?y.level+1:-1},S)})}p(null)}function Fr(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=o.initWrapper,e=o.processEntity,a=o.onProcessFinished,s=o.externalGetKey,f=o.childrenPropName,n=o.fieldNames,r=arguments.length>2?arguments[2]:void 0,i=s||r,c={},u={},v={posEntities:c,keyEntities:u};return l&&(v=l(v)||v),Hr(t,function(p){var m=p.node,g=p.index,y=p.pos,h=p.key,x=p.parentPos,C=p.level,S=p.nodes,E={node:m,nodes:S,index:g,key:h,pos:y,level:C},b=et(h,y);c[y]=E,u[b]=E,E.parent=c[x],E.parent&&(E.parent.children=E.parent.children||[],E.parent.children.push(E)),e&&e(E,v)},{externalGetKey:i,childrenPropName:f,fieldNames:n}),a&&a(v),v}function Qe(t,o){var l=o.expandedKeys,e=o.selectedKeys,a=o.loadedKeys,s=o.loadingKeys,f=o.checkedKeys,n=o.halfCheckedKeys,r=o.dragOverNodeKey,i=o.dropPosition,c=o.keyEntities,u=he(c,t),v={eventKey:t,expanded:l.indexOf(t)!==-1,selected:e.indexOf(t)!==-1,loaded:a.indexOf(t)!==-1,loading:s.indexOf(t)!==-1,checked:f.indexOf(t)!==-1,halfChecked:n.indexOf(t)!==-1,pos:String(u?u.pos:""),dragOver:r===t&&i===0,dragOverGapTop:r===t&&i===-1,dragOverGapBottom:r===t&&i===1};return v}function ne(t){var o=t.data,l=t.expanded,e=t.selected,a=t.checked,s=t.loaded,f=t.loading,n=t.halfChecked,r=t.dragOver,i=t.dragOverGapTop,c=t.dragOverGapBottom,u=t.pos,v=t.active,p=t.eventKey,m=R(R({},o),{},{expanded:l,selected:e,checked:a,loaded:s,loading:f,halfChecked:n,dragOver:r,dragOverGapTop:i,dragOverGapBottom:c,pos:u,active:v,key:p});return"props"in m||Object.defineProperty(m,"props",{get:function(){return Me(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),t}}),m}function _n(t,o){var l=new Set;return t.forEach(function(e){o.has(e)||l.add(e)}),l}function Br(t){var o=t||{},l=o.disabled,e=o.disableCheckbox,a=o.checkable;return!!(l||e)||a===!1}function Wr(t,o,l,e){for(var a=new Set(t),s=new Set,f=0;f<=l;f+=1){var n=o.get(f)||new Set;n.forEach(function(u){var v=u.key,p=u.node,m=u.children,g=m===void 0?[]:m;a.has(v)&&!e(p)&&g.filter(function(y){return!e(y.node)}).forEach(function(y){a.add(y.key)})})}for(var r=new Set,i=l;i>=0;i-=1){var c=o.get(i)||new Set;c.forEach(function(u){var v=u.parent,p=u.node;if(!(e(p)||!u.parent||r.has(u.parent.key))){if(e(u.parent.node)){r.add(v.key);return}var m=!0,g=!1;(v.children||[]).filter(function(y){return!e(y.node)}).forEach(function(y){var h=y.key,x=a.has(h);m&&!x&&(m=!1),!g&&(x||s.has(h))&&(g=!0)}),m&&a.add(v.key),g&&s.add(v.key),r.add(v.key)}})}return{checkedKeys:Array.from(a),halfCheckedKeys:Array.from(_n(s,a))}}function zr(t,o,l,e,a){for(var s=new Set(t),f=new Set(o),n=0;n<=e;n+=1){var r=l.get(n)||new Set;r.forEach(function(v){var p=v.key,m=v.node,g=v.children,y=g===void 0?[]:g;!s.has(p)&&!f.has(p)&&!a(m)&&y.filter(function(h){return!a(h.node)}).forEach(function(h){s.delete(h.key)})})}f=new Set;for(var i=new Set,c=e;c>=0;c-=1){var u=l.get(c)||new Set;u.forEach(function(v){var p=v.parent,m=v.node;if(!(a(m)||!v.parent||i.has(v.parent.key))){if(a(v.parent.node)){i.add(p.key);return}var g=!0,y=!1;(p.children||[]).filter(function(h){return!a(h.node)}).forEach(function(h){var x=h.key,C=s.has(x);g&&!C&&(g=!1),!y&&(C||f.has(x))&&(y=!0)}),g||s.delete(p.key),y&&f.add(p.key),i.add(p.key)}})}return{checkedKeys:Array.from(s),halfCheckedKeys:Array.from(_n(f,s))}}function St(t,o,l,e){var a=[],s;e?s=e:s=Br;var f=new Set(t.filter(function(c){var u=!!he(l,c);return u||a.push(c),u})),n=new Map,r=0;Object.keys(l).forEach(function(c){var u=l[c],v=u.level,p=n.get(v);p||(p=new Set,n.set(v,p)),p.add(u),r=Math.max(r,v)}),Me(!a.length,"Tree missing follow keys: ".concat(a.slice(0,100).map(function(c){return"'".concat(c,"'")}).join(", ")));var i;return o===!0?i=Wr(f,n,r,s):i=zr(f,o.halfCheckedKeys,n,r,s),i}var He={},ft="rc-table-internal-hook";function Lt(t){var o=d.createContext(void 0),l=function(a){var s=a.value,f=a.children,n=d.useRef(s);n.current=s;var r=d.useState(function(){return{getValue:function(){return n.current},listeners:new Set}}),i=z(r,1),c=i[0];return je(function(){Lr.unstable_batchedUpdates(function(){c.listeners.forEach(function(u){u(s)})})},[s]),d.createElement(o.Provider,{value:c},f)};return{Context:o,Provider:l,defaultValue:t}}function ce(t,o){var l=Rt(typeof o=="function"?o:function(u){if(o===void 0)return u;if(!Array.isArray(o))return u[o];var v={};return o.forEach(function(p){v[p]=u[p]}),v}),e=d.useContext(t==null?void 0:t.Context),a=e||{},s=a.listeners,f=a.getValue,n=d.useRef();n.current=l(e?f():t==null?void 0:t.defaultValue);var r=d.useState({}),i=z(r,2),c=i[1];return je(function(){if(!e)return;function u(v){var p=l(v);Dt(n.current,p,!0)||c({})}return s.add(u),function(){s.delete(u)}},[e]),n.current}function Ur(){var t=d.createContext(null);function o(){return d.useContext(t)}function l(a,s){var f=ln(a),n=function(i,c){var u=f?{ref:c}:{},v=d.useRef(0),p=d.useRef(i),m=o();return m!==null?d.createElement(a,V({},i,u)):((!s||s(p.current,i))&&(v.current+=1),p.current=i,d.createElement(t.Provider,{value:v.current},d.createElement(a,V({},i,u))))};return f?d.forwardRef(n):n}function e(a,s){var f=ln(a),n=function(i,c){var u=f?{ref:c}:{};return o(),d.createElement(a,V({},i,u))};return f?d.memo(d.forwardRef(n),s):d.memo(n,s)}return{makeImmutable:l,responseImmutable:e,useImmutableMark:o}}var Pt=Ur(),An=Pt.makeImmutable,Ge=Pt.responseImmutable,Vr=Pt.useImmutableMark,fe=Lt();function jr(t,o){var l=d.useRef(0);l.current+=1;var e=d.useRef(t),a=[];Object.keys({}).map(function(f){var n;((n=e.current)===null||n===void 0?void 0:n[f])!==void 0&&a.push(f)}),e.current=t;var s=d.useRef([]);return a.length&&(s.current=a),d.useDebugValue(l.current),d.useDebugValue(s.current.join(", ")),l.current}var Gr=d.memo(function(){var t=jr();return d.createElement("h1",null,"Render Times: ",t)});Gr.displayName="RenderBlock";var Hn=d.createContext({renderWithProps:!1}),Xr="RC_TABLE_KEY";function Yr(t){return t==null?[]:Array.isArray(t)?t:[t]}function vt(t){var o=[],l={};return t.forEach(function(e){for(var a=e||{},s=a.key,f=a.dataIndex,n=s||Yr(f).join("-")||Xr;l[n];)n="".concat(n,"_next");l[n]=!0,o.push(n)}),o}function bt(t){return t!=null}function qr(t){return t&&De(t)==="object"&&!Array.isArray(t)&&!d.isValidElement(t)}function Jr(t,o,l,e,a,s){var f=d.useContext(Hn),n=Vr(),r=Dn(function(){if(bt(e))return[e];var i=o==null||o===""?[]:Array.isArray(o)?o:[o],c=Tn(t,i),u=c,v=void 0;if(a){var p=a(c,t,l);qr(p)?(u=p.children,v=p.props,f.renderWithProps=!0):u=p}return[u,v]},[n,t,e,o,a,l],function(i,c){if(s){var u=z(i,2),v=u[1],p=z(c,2),m=p[1];return s(m,v)}return f.renderWithProps?!0:!Dt(i,c,!0)});return r}function Qr(t,o,l,e){var a=t+o-1;return t<=e&&a>=l}function Zr(t,o){return ce(fe,function(l){var e=Qr(t,o||1,l.hoverStartRow,l.hoverEndRow);return[e,l.onHover]})}var ea=function(o){var l=o.ellipsis,e=o.rowType,a=o.children,s,f=l===!0?{showTitle:!0}:l;return f&&(f.showTitle||e==="header")&&(typeof a=="string"||typeof a=="number"?s=a.toString():d.isValidElement(a)&&typeof a.props.children=="string"&&(s=a.props.children)),s};function ta(t){var o,l,e,a,s,f,n,r,i=t.component,c=t.children,u=t.ellipsis,v=t.scope,p=t.prefixCls,m=t.className,g=t.align,y=t.record,h=t.render,x=t.dataIndex,C=t.renderIndex,S=t.shouldCellUpdate,E=t.index,b=t.rowType,L=t.colSpan,T=t.rowSpan,K=t.fixLeft,I=t.fixRight,w=t.firstFixLeft,k=t.lastFixLeft,N=t.firstFixRight,D=t.lastFixRight,$=t.appendNode,O=t.additionalProps,P=O===void 0?{}:O,A=t.isSticky,U="".concat(p,"-cell"),Y=ce(fe,["supportSticky","allColumnsFixedLeft"]),B=Y.supportSticky,ee=Y.allColumnsFixedLeft,ie=Jr(y,x,C,c,h,S),le=z(ie,2),te=le[0],H=le[1],Z={},ve=typeof K=="number"&&B,X=typeof I=="number"&&B;ve&&(Z.position="sticky",Z.left=K),X&&(Z.position="sticky",Z.right=I);var q=(o=(l=(e=H==null?void 0:H.colSpan)!==null&&e!==void 0?e:P.colSpan)!==null&&l!==void 0?l:L)!==null&&o!==void 0?o:1,j=(a=(s=(f=H==null?void 0:H.rowSpan)!==null&&f!==void 0?f:P.rowSpan)!==null&&s!==void 0?s:T)!==null&&a!==void 0?a:1,ye=Zr(E,j),be=z(ye,2),$e=be[0],pe=be[1],Ke=function(re){var ae;y&&pe(E,E+j-1),P==null||(ae=P.onMouseEnter)===null||ae===void 0||ae.call(P,re)},we=function(re){var ae;y&&pe(-1,-1),P==null||(ae=P.onMouseLeave)===null||ae===void 0||ae.call(P,re)};if(q===0||j===0)return null;var Se=(n=P.title)!==null&&n!==void 0?n:ea({rowType:b,ellipsis:u,children:te}),me=G(U,m,(r={},M(r,"".concat(U,"-fix-left"),ve&&B),M(r,"".concat(U,"-fix-left-first"),w&&B),M(r,"".concat(U,"-fix-left-last"),k&&B),M(r,"".concat(U,"-fix-left-all"),k&&ee&&B),M(r,"".concat(U,"-fix-right"),X&&B),M(r,"".concat(U,"-fix-right-first"),N&&B),M(r,"".concat(U,"-fix-right-last"),D&&B),M(r,"".concat(U,"-ellipsis"),u),M(r,"".concat(U,"-with-append"),$),M(r,"".concat(U,"-fix-sticky"),(ve||X)&&A&&B),M(r,"".concat(U,"-row-hover"),!H&&$e),r),P.className,H==null?void 0:H.className),_={};g&&(_.textAlign=g);var ue=R(R(R(R({},Z),P.style),_),H==null?void 0:H.style),J=te;return De(J)==="object"&&!Array.isArray(J)&&!d.isValidElement(J)&&(J=null),u&&(k||N)&&(J=d.createElement("span",{className:"".concat(U,"-content")},J)),d.createElement(i,V({},H,P,{className:me,style:ue,title:Se,scope:v,onMouseEnter:Ke,onMouseLeave:we,colSpan:q!==1?q:null,rowSpan:j!==1?j:null}),$,J)}const Be=d.memo(ta);function It(t,o,l,e,a,s){var f=l[t]||{},n=l[o]||{},r,i;f.fixed==="left"?r=e.left[a==="rtl"?o:t]:n.fixed==="right"&&(i=e.right[a==="rtl"?t:o]);var c=!1,u=!1,v=!1,p=!1,m=l[o+1],g=l[t-1],y=!(s!=null&&s.children);if(a==="rtl"){if(r!==void 0){var h=g&&g.fixed==="left";p=!h&&y}else if(i!==void 0){var x=m&&m.fixed==="right";v=!x&&y}}else if(r!==void 0){var C=m&&m.fixed==="left";c=!C&&y}else if(i!==void 0){var S=g&&g.fixed==="right";u=!S&&y}return{fixLeft:r,fixRight:i,lastFixLeft:c,firstFixRight:u,lastFixRight:v,firstFixLeft:p,isSticky:e.isSticky}}var Fn=d.createContext({});function na(t){var o=t.className,l=t.index,e=t.children,a=t.colSpan,s=a===void 0?1:a,f=t.rowSpan,n=t.align,r=ce(fe,["prefixCls","direction"]),i=r.prefixCls,c=r.direction,u=d.useContext(Fn),v=u.scrollColumnIndex,p=u.stickyOffsets,m=u.flattenColumns,g=u.columns,y=l+s-1,h=y+1===v?s+1:s,x=It(l,l+h-1,m,p,c,g==null?void 0:g[l]);return d.createElement(Be,V({className:o,index:l,component:"td",prefixCls:i,record:null,dataIndex:null,align:n,colSpan:h,rowSpan:f,render:function(){return e}},x))}var ra=["children"];function aa(t){var o=t.children,l=Ne(t,ra);return d.createElement("tr",l,o)}function pt(t){var o=t.children;return o}pt.Row=aa;pt.Cell=na;function oa(t){var o=t.children,l=t.stickyOffsets,e=t.flattenColumns,a=t.columns,s=ce(fe,"prefixCls"),f=e.length-1,n=e[f],r=d.useMemo(function(){return{stickyOffsets:l,flattenColumns:e,scrollColumnIndex:n!=null&&n.scrollbar?f:null,columns:a}},[n,e,f,l,a]);return d.createElement(Fn.Provider,{value:r},d.createElement("tfoot",{className:"".concat(s,"-summary")},o))}const st=Ge(oa);var ia=pt;function la(t){return null}function da(t){return null}function Bn(t,o,l,e,a,s,f){t.push({record:o,indent:l,index:f});var n=s(o),r=a==null?void 0:a.has(n);if(o&&Array.isArray(o[e])&&r)for(var i=0;i<o[e].length;i+=1)Bn(t,o[e][i],l+1,e,a,s,i)}function Wn(t,o,l,e){var a=d.useMemo(function(){if(l!=null&&l.size){for(var s=[],f=0;f<(t==null?void 0:t.length);f+=1){var n=t[f];Bn(s,n,0,o,l,e,f)}return s}return t==null?void 0:t.map(function(r,i){return{record:r,indent:0,index:i}})},[t,o,l,e]);return a}function zn(t,o,l,e){var a=ce(fe,["prefixCls","fixedInfoList","flattenColumns","expandableType","expandRowByClick","onTriggerExpand","rowClassName","expandedRowClassName","indentSize","expandIcon","expandedRowRender","expandIconColumnIndex","expandedKeys","childrenColumnName","rowExpandable","onRow"]),s=a.flattenColumns,f=a.expandableType,n=a.expandedKeys,r=a.childrenColumnName,i=a.onTriggerExpand,c=a.rowExpandable,u=a.onRow,v=a.expandRowByClick,p=a.rowClassName,m=f==="nest",g=f==="row"&&(!c||c(t)),y=g||m,h=n&&n.has(o),x=r&&t&&t[r],C=Rt(i),S=u==null?void 0:u(t,l),E=S==null?void 0:S.onClick,b=function(I){v&&y&&i(t,I);for(var w=arguments.length,k=new Array(w>1?w-1:0),N=1;N<w;N++)k[N-1]=arguments[N];E==null||E.apply(void 0,[I].concat(k))},L;typeof p=="string"?L=p:typeof p=="function"&&(L=p(t,l,e));var T=vt(s);return R(R({},a),{},{columnsKey:T,nestExpandable:m,expanded:h,hasNestChildren:x,record:t,onTriggerExpand:C,rowSupportExpand:g,expandable:y,rowProps:R(R({},S),{},{className:G(L,S==null?void 0:S.className),onClick:b})})}function Un(t){var o=t.prefixCls,l=t.children,e=t.component,a=t.cellComponent,s=t.className,f=t.expanded,n=t.colSpan,r=t.isEmpty,i=ce(fe,["scrollbarSize","fixHeader","fixColumn","componentWidth","horizonScroll"]),c=i.scrollbarSize,u=i.fixHeader,v=i.fixColumn,p=i.componentWidth,m=i.horizonScroll,g=l;return(r?m&&p:v)&&(g=d.createElement("div",{style:{width:p-(u?c:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(o,"-expanded-row-fixed")},g)),d.createElement(e,{className:s,style:{display:f?null:"none"}},d.createElement(Be,{component:a,prefixCls:o,colSpan:n},g))}function Vn(t,o,l,e,a){var s=t.record,f=t.prefixCls,n=t.columnsKey,r=t.fixedInfoList,i=t.expandIconColumnIndex,c=t.nestExpandable,u=t.indentSize,v=t.expandIcon,p=t.expanded,m=t.hasNestChildren,g=t.onTriggerExpand,y=n[l],h=r[l],x;l===(i||0)&&c&&(x=d.createElement(d.Fragment,null,d.createElement("span",{style:{paddingLeft:"".concat(u*e,"px")},className:"".concat(f,"-row-indent indent-level-").concat(e)}),v({prefixCls:f,expanded:p,expandable:m,record:s,onExpand:g})));var C;return o.onCell&&(C=o.onCell(s,a)),{key:y,fixedInfo:h,appendCellNode:x,additionalCellProps:C||{}}}function jn(t){var o=t.className,l=t.style,e=t.record,a=t.index,s=t.renderIndex,f=t.rowKey,n=t.indent,r=n===void 0?0:n,i=t.rowComponent,c=t.cellComponent,u=t.scopeCellComponent,v=zn(e,f,a,r),p=v.prefixCls,m=v.flattenColumns,g=v.expandedRowClassName,y=v.expandedRowRender,h=v.rowProps,x=v.expanded,C=v.rowSupportExpand,S=d.useRef(!1);S.current||(S.current=x);var E=d.createElement(i,V({},h,{"data-row-key":f,className:G(o,"".concat(p,"-row"),"".concat(p,"-row-level-").concat(r),h==null?void 0:h.className),style:R(R({},l),h==null?void 0:h.style)}),m.map(function(K,I){var w=K.render,k=K.dataIndex,N=K.className,D=Vn(v,K,I,r,a),$=D.key,O=D.fixedInfo,P=D.appendCellNode,A=D.additionalCellProps;return d.createElement(Be,V({className:N,ellipsis:K.ellipsis,align:K.align,scope:K.rowScope,component:K.rowScope?u:c,prefixCls:p,key:$,record:e,index:a,renderIndex:s,dataIndex:k,render:w,shouldCellUpdate:K.shouldCellUpdate},O,{appendNode:P,additionalProps:A}))})),b;if(C&&(S.current||x)){var L=y(e,a,r+1,x),T=g&&g(e,a,r);b=d.createElement(Un,{expanded:x,className:G("".concat(p,"-expanded-row"),"".concat(p,"-expanded-row-level-").concat(r+1),T),prefixCls:p,component:i,cellComponent:c,colSpan:m.length,isEmpty:!1},L)}return d.createElement(d.Fragment,null,E,b)}jn.displayName="BodyRow";const sa=Ge(jn);function ca(t){var o=t.columnKey,l=t.onColumnResize,e=d.useRef();return d.useEffect(function(){e.current&&l(o,e.current.offsetWidth)},[]),d.createElement(Tt,{data:o},d.createElement("td",{ref:e,style:{padding:0,border:0,height:0}},d.createElement("div",{style:{height:0,overflow:"hidden"}},"Â ")))}function ua(t){var o=t.prefixCls,l=t.columnsKey,e=t.onColumnResize;return d.createElement("tr",{"aria-hidden":"true",className:"".concat(o,"-measure-row"),style:{height:0,fontSize:0}},d.createElement(Tt.Collection,{onBatchResize:function(s){s.forEach(function(f){var n=f.data,r=f.size;e(n,r.offsetWidth)})}},l.map(function(a){return d.createElement(ca,{key:a,columnKey:a,onColumnResize:e})})))}function Gn(t){var o=t.data,l=t.measureColumnWidth,e=ce(fe,["prefixCls","getComponent","onColumnResize","flattenColumns","getRowKey","expandedKeys","childrenColumnName","emptyNode"]),a=e.prefixCls,s=e.getComponent,f=e.onColumnResize,n=e.flattenColumns,r=e.getRowKey,i=e.expandedKeys,c=e.childrenColumnName,u=e.emptyNode,v=Wn(o,c,i,r),p=d.useRef({renderWithProps:!1}),m=s(["body","wrapper"],"tbody"),g=s(["body","row"],"tr"),y=s(["body","cell"],"td"),h=s(["body","cell"],"th"),x;o.length?x=v.map(function(S,E){var b=S.record,L=S.indent,T=S.index,K=r(b,E);return d.createElement(sa,{key:K,rowKey:K,record:b,index:E,renderIndex:T,rowComponent:g,cellComponent:y,scopeCellComponent:h,getRowKey:r,indent:L})}):x=d.createElement(Un,{expanded:!0,className:"".concat(a,"-placeholder"),prefixCls:a,component:g,cellComponent:y,colSpan:n.length,isEmpty:!0},u);var C=vt(n);return d.createElement(Hn.Provider,{value:p.current},d.createElement(m,{className:"".concat(a,"-tbody")},l&&d.createElement(ua,{prefixCls:a,columnsKey:C,onColumnResize:f}),x))}Gn.displayName="Body";const fa=Ge(Gn);var va=["expandable"],Xn="RC_TABLE_INTERNAL_COL_DEFINE";function pa(t){var o=t.expandable,l=Ne(t,va),e;return"expandable"in t?e=R(R({},l),o):e=l,e.showExpandColumn===!1&&(e.expandIconColumnIndex=-1),e}var ma=["columnType"];function Yn(t){for(var o=t.colWidths,l=t.columns,e=t.columCount,a=[],s=e||l.length,f=!1,n=s-1;n>=0;n-=1){var r=o[n],i=l&&l[n],c=i&&i[Xn];if(r||c||f){var u=c||{};u.columnType;var v=Ne(u,ma);a.unshift(d.createElement("col",V({key:n,style:{width:r}},v))),f=!0}}return d.createElement("colgroup",null,a)}var ha=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];function ya(t,o){return d.useMemo(function(){for(var l=[],e=0;e<o;e+=1){var a=t[e];if(a!==void 0)l[e]=a;else return null}return l},[t.join("_"),o])}var qn=d.forwardRef(function(t,o){var l=t.className,e=t.noData,a=t.columns,s=t.flattenColumns,f=t.colWidths,n=t.columCount,r=t.stickyOffsets,i=t.direction,c=t.fixHeader,u=t.stickyTopOffset,v=t.stickyBottomOffset,p=t.stickyClassName,m=t.onScroll,g=t.maxContentScroll,y=t.children,h=Ne(t,ha),x=ce(fe,["prefixCls","scrollbarSize","isSticky"]),C=x.prefixCls,S=x.scrollbarSize,E=x.isSticky,b=E&&!c?0:S,L=d.useRef(null),T=d.useCallback(function(O){dn(o,O),dn(L,O)},[]);d.useEffect(function(){var O;function P(A){var U=A,Y=U.currentTarget,B=U.deltaX;B&&(m({currentTarget:Y,scrollLeft:Y.scrollLeft+B}),A.preventDefault())}return(O=L.current)===null||O===void 0||O.addEventListener("wheel",P),function(){var A;(A=L.current)===null||A===void 0||A.removeEventListener("wheel",P)}},[]);var K=d.useMemo(function(){return s.every(function(O){return O.width})},[s]),I=s[s.length-1],w={fixed:I?I.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(C,"-cell-scrollbar")}}},k=d.useMemo(function(){return b?[].concat(oe(a),[w]):a},[b,a]),N=d.useMemo(function(){return b?[].concat(oe(s),[w]):s},[b,s]),D=d.useMemo(function(){var O=r.right,P=r.left;return R(R({},r),{},{left:i==="rtl"?[].concat(oe(P.map(function(A){return A+b})),[0]):P,right:i==="rtl"?O:[].concat(oe(O.map(function(A){return A+b})),[0]),isSticky:E})},[b,r,E]),$=ya(f,n);return d.createElement("div",{style:R({overflow:"hidden"},E?{top:u,bottom:v}:{}),ref:T,className:G(l,M({},p,!!p))},d.createElement("table",{style:{tableLayout:"fixed",visibility:e||$?null:"hidden"}},(!e||!g||K)&&d.createElement(Yn,{colWidths:$?[].concat(oe($),[b]):[],columCount:n+1,columns:N}),y(R(R({},h),{},{stickyOffsets:D,columns:k,flattenColumns:N}))))});qn.displayName="FixedHolder";const fn=d.memo(qn);function Jn(t){var o=t.cells,l=t.stickyOffsets,e=t.flattenColumns,a=t.rowComponent,s=t.cellComponent,f=t.tdCellComponent,n=t.onHeaderRow,r=t.index,i=ce(fe,["prefixCls","direction"]),c=i.prefixCls,u=i.direction,v;n&&(v=n(o.map(function(m){return m.column}),r));var p=vt(o.map(function(m){return m.column}));return d.createElement(a,v,o.map(function(m,g){var y=m.column,h=It(m.colStart,m.colEnd,e,l,u,y),x;return y&&y.onHeaderCell&&(x=m.column.onHeaderCell(y)),d.createElement(Be,V({},m,{scope:y.title?m.colSpan>1?"colgroup":"col":null,ellipsis:y.ellipsis,align:y.align,component:y.title?s:f,prefixCls:c,key:p[g]},h,{additionalProps:x,rowType:"header"}))}))}Jn.displayName="HeaderRow";function ga(t){var o=[];function l(f,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;o[r]=o[r]||[];var i=n,c=f.filter(Boolean).map(function(u){var v={key:u.key,className:u.className||"",children:u.title,column:u,colStart:i},p=1,m=u.children;return m&&m.length>0&&(p=l(m,i,r+1).reduce(function(g,y){return g+y},0),v.hasSubColumns=!0),"colSpan"in u&&(p=u.colSpan),"rowSpan"in u&&(v.rowSpan=u.rowSpan),v.colSpan=p,v.colEnd=v.colStart+p-1,o[r].push(v),i+=p,p});return c}l(t,0);for(var e=o.length,a=function(n){o[n].forEach(function(r){!("rowSpan"in r)&&!r.hasSubColumns&&(r.rowSpan=e-n)})},s=0;s<e;s+=1)a(s);return o}function xa(t){var o=t.stickyOffsets,l=t.columns,e=t.flattenColumns,a=t.onHeaderRow,s=ce(fe,["prefixCls","getComponent"]),f=s.prefixCls,n=s.getComponent,r=d.useMemo(function(){return ga(l)},[l]),i=n(["header","wrapper"],"thead"),c=n(["header","row"],"tr"),u=n(["header","cell"],"th"),v=n(["header","cell"],"td");return d.createElement(i,{className:"".concat(f,"-thead")},r.map(function(p,m){var g=d.createElement(Jn,{key:m,flattenColumns:e,cells:p,stickyOffsets:o,rowComponent:c,cellComponent:u,tdCellComponent:v,onHeaderRow:a,index:m});return g}))}const vn=Ge(xa);function pn(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return typeof o=="number"?o:o.endsWith("%")?t*parseFloat(o)/100:null}function Ca(t,o,l){return d.useMemo(function(){if(o&&o>0){var e=0,a=0;t.forEach(function(v){var p=pn(o,v.width);p?e+=p:a+=1});var s=Math.max(o,l),f=Math.max(s-e,a),n=a,r=f/a,i=0,c=t.map(function(v){var p=R({},v),m=pn(o,p.width);if(m)p.width=m;else{var g=Math.floor(r);p.width=n===1?f:g,f-=g,n-=1}return i+=p.width,p});if(i<s){var u=s/i;f=s,c.forEach(function(v,p){var m=Math.floor(v.width*u);v.width=p===c.length-1?f:m,f-=m})}return[c,Math.max(i,s)]}return[t,o]},[t,o,l])}var Ea=["children"],Na=["fixed"];function Qn(t){return Rn(t).filter(function(o){return d.isValidElement(o)}).map(function(o){var l=o.key,e=o.props,a=e.children,s=Ne(e,Ea),f=R({key:l},s);return a&&(f.children=Qn(a)),f})}function Kt(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"key";return t.filter(function(l){return l&&De(l)==="object"}).reduce(function(l,e,a){var s=e.fixed,f=s===!0?"left":s,n="".concat(o,"-").concat(a),r=e.children;return r&&r.length>0?[].concat(oe(l),oe(Kt(r,n).map(function(i){return R({fixed:f},i)}))):[].concat(oe(l),[R(R({key:n},e),{},{fixed:f})])},[])}function Sa(t){return t.map(function(o){var l=o.fixed,e=Ne(o,Na),a=l;return l==="left"?a="right":l==="right"&&(a="left"),R({fixed:a},e)})}function ka(t,o){var l=t.prefixCls,e=t.columns,a=t.children,s=t.expandable,f=t.expandedKeys,n=t.columnTitle,r=t.getRowKey,i=t.onTriggerExpand,c=t.expandIcon,u=t.rowExpandable,v=t.expandIconColumnIndex,p=t.direction,m=t.expandRowByClick,g=t.columnWidth,y=t.fixed,h=t.scrollWidth,x=t.clientWidth,C=d.useMemo(function(){return e||Qn(a)},[e,a]),S=d.useMemo(function(){if(s){var w,k=C.slice();if(!k.includes(He)){var N=v||0;N>=0&&k.splice(N,0,He)}var D=k.indexOf(He);k=k.filter(function(A,U){return A!==He||U===D});var $=C[D],O;(y==="left"||y)&&!v?O="left":(y==="right"||y)&&v===C.length?O="right":O=$?$.fixed:null;var P=(w={},M(w,Xn,{className:"".concat(l,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),M(w,"title",n),M(w,"fixed",O),M(w,"className","".concat(l,"-row-expand-icon-cell")),M(w,"width",g),M(w,"render",function(U,Y,B){var ee=r(Y,B),ie=f.has(ee),le=u?u(Y):!0,te=c({prefixCls:l,expanded:ie,expandable:le,record:Y,onExpand:i});return m?d.createElement("span",{onClick:function(Z){return Z.stopPropagation()}},te):te}),w);return k.map(function(A){return A===He?P:A})}return C.filter(function(A){return A!==He})},[s,C,r,f,c,p]),E=d.useMemo(function(){var w=S;return o&&(w=o(w)),w.length||(w=[{render:function(){return null}}]),w},[o,S,p]),b=d.useMemo(function(){return p==="rtl"?Sa(Kt(E)):Kt(E)},[E,p,h]),L=Ca(b,h,x),T=z(L,2),K=T[0],I=T[1];return[E,K,I]}function ba(t){var o,l=t.prefixCls,e=t.record,a=t.onExpand,s=t.expanded,f=t.expandable,n="".concat(l,"-row-expand-icon");if(!f)return d.createElement("span",{className:G(n,"".concat(l,"-row-spaced"))});var r=function(c){a(e,c),c.stopPropagation()};return d.createElement("span",{className:G(n,(o={},M(o,"".concat(l,"-row-expanded"),s),M(o,"".concat(l,"-row-collapsed"),!s),o)),onClick:r})}function Ka(t,o,l){var e=[];function a(s){(s||[]).forEach(function(f,n){e.push(o(f,n)),a(f[l])})}return a(t),e}function wa(t,o,l){var e=pa(t),a=e.expandIcon,s=e.expandedRowKeys,f=e.defaultExpandedRowKeys,n=e.defaultExpandAllRows,r=e.expandedRowRender,i=e.onExpand,c=e.onExpandedRowsChange,u=e.childrenColumnName,v=a||ba,p=u||"children",m=d.useMemo(function(){return r?"row":t.expandable&&t.internalHooks===ft&&t.expandable.__PARENT_RENDER_ICON__||o.some(function(E){return E&&De(E)==="object"&&E[p]})?"nest":!1},[!!r,o]),g=d.useState(function(){return f||(n?Ka(o,l,p):[])}),y=z(g,2),h=y[0],x=y[1],C=d.useMemo(function(){return new Set(s||h||[])},[s,h]),S=d.useCallback(function(E){var b=l(E,o.indexOf(E)),L,T=C.has(b);T?(C.delete(b),L=oe(C)):L=[].concat(oe(C),[b]),x(L),i&&i(!T,E),c&&c(L)},[l,C,o,i,c]);return[e,m,C,v,p,S]}function Ra(t,o,l,e){var a=t.map(function(s,f){return It(f,f,t,o,l,e==null?void 0:e[f])});return Dn(function(){return a},[a],function(s,f){return!Dt(s,f)})}function Zn(t){var o=d.useRef(t),l=d.useState({}),e=z(l,2),a=e[1],s=d.useRef(null),f=d.useRef([]);function n(r){f.current.push(r);var i=Promise.resolve();s.current=i,i.then(function(){if(s.current===i){var c=f.current,u=o.current;f.current=[],c.forEach(function(v){o.current=v(o.current)}),s.current=null,u!==o.current&&a({})}})}return d.useEffect(function(){return function(){s.current=null}},[]),[o.current,n]}function Da(t){var o=d.useRef(null),l=d.useRef();function e(){window.clearTimeout(l.current)}function a(f){o.current=f,e(),l.current=window.setTimeout(function(){o.current=null,l.current=void 0},100)}function s(){return o.current}return d.useEffect(function(){return e},[]),[a,s]}function Ta(){var t=d.useState(-1),o=z(t,2),l=o[0],e=o[1],a=d.useState(-1),s=z(a,2),f=s[0],n=s[1],r=d.useCallback(function(i,c){e(i),n(c)},[]);return[l,f,r]}var mn=Pr()?window:null;function La(t,o){var l=De(t)==="object"?t:{},e=l.offsetHeader,a=e===void 0?0:e,s=l.offsetSummary,f=s===void 0?0:s,n=l.offsetScroll,r=n===void 0?0:n,i=l.getContainer,c=i===void 0?function(){return mn}:i,u=c()||mn;return d.useMemo(function(){var v=!!t;return{isSticky:v,stickyClassName:v?"".concat(o,"-sticky-holder"):"",offsetHeader:a,offsetSummary:f,offsetScroll:r,container:u}},[r,a,f,o,u])}function Pa(t,o,l){var e=d.useMemo(function(){for(var a=[],s=[],f=0,n=0,r=0;r<o;r+=1)if(l==="rtl"){s[r]=n,n+=t[r]||0;var i=o-r-1;a[i]=f,f+=t[i]||0}else{a[r]=f,f+=t[r]||0;var c=o-r-1;s[c]=n,n+=t[c]||0}return{left:a,right:s}},[t,o,l]);return e}function hn(t){var o=t.className,l=t.children;return d.createElement("div",{className:o},l)}var Ia=function(o,l){var e,a,s=o.scrollBodyRef,f=o.onScroll,n=o.offsetScroll,r=o.container,i=ce(fe,"prefixCls"),c=((e=s.current)===null||e===void 0?void 0:e.scrollWidth)||0,u=((a=s.current)===null||a===void 0?void 0:a.clientWidth)||0,v=c&&u*(u/c),p=d.useRef(),m=Zn({scrollLeft:0,isHiddenScrollBar:!1}),g=z(m,2),y=g[0],h=g[1],x=d.useRef({delta:0,x:0}),C=d.useState(!1),S=z(C,2),E=S[0],b=S[1],L=function(){b(!1)},T=function(N){N.persist(),x.current.delta=N.pageX-y.scrollLeft,x.current.x=0,b(!0),N.preventDefault()},K=function(N){var D,$=N||((D=window)===null||D===void 0?void 0:D.event),O=$.buttons;if(!E||O===0){E&&b(!1);return}var P=x.current.x+N.pageX-x.current.x-x.current.delta;P<=0&&(P=0),P+v>=u&&(P=u-v),f({scrollLeft:P/u*(c+2)}),x.current.x=N.pageX},I=function(){if(s.current){var N=cn(s.current).top,D=N+s.current.offsetHeight,$=r===window?document.documentElement.scrollTop+window.innerHeight:cn(r).top+r.clientHeight;D-sn()<=$||N>=$-n?h(function(O){return R(R({},O),{},{isHiddenScrollBar:!0})}):h(function(O){return R(R({},O),{},{isHiddenScrollBar:!1})})}},w=function(N){h(function(D){return R(R({},D),{},{scrollLeft:N/c*u||0})})};return d.useImperativeHandle(l,function(){return{setScrollLeft:w}}),d.useEffect(function(){var k=dt(document.body,"mouseup",L,!1),N=dt(document.body,"mousemove",K,!1);return I(),function(){k.remove(),N.remove()}},[v,E]),d.useEffect(function(){var k=dt(r,"scroll",I,!1),N=dt(window,"resize",I,!1);return function(){k.remove(),N.remove()}},[r]),d.useEffect(function(){y.isHiddenScrollBar||h(function(k){var N=s.current;return N?R(R({},k),{},{scrollLeft:N.scrollLeft/N.scrollWidth*N.clientWidth}):k})},[y.isHiddenScrollBar]),c<=u||!v||y.isHiddenScrollBar?null:d.createElement("div",{style:{height:sn(),width:u,bottom:n},className:"".concat(i,"-sticky-scroll")},d.createElement("div",{onMouseDown:T,ref:p,className:G("".concat(i,"-sticky-scroll-bar"),M({},"".concat(i,"-sticky-scroll-bar-active"),E)),style:{width:"".concat(v,"px"),transform:"translate3d(".concat(y.scrollLeft,"px, 0, 0)")}}))};const Oa=d.forwardRef(Ia);var er="rc-table",Ma=[],$a={};function _a(){return"No Data"}function Aa(t,o){var l,e=R({rowKey:"key",prefixCls:er,emptyText:_a},t),a=e.prefixCls,s=e.className,f=e.rowClassName,n=e.style,r=e.data,i=e.rowKey,c=e.scroll,u=e.tableLayout,v=e.direction,p=e.title,m=e.footer,g=e.summary,y=e.caption,h=e.id,x=e.showHeader,C=e.components,S=e.emptyText,E=e.onRow,b=e.onHeaderRow,L=e.internalHooks,T=e.transformColumns,K=e.internalRefs,I=e.tailor,w=e.getContainerWidth,k=e.sticky,N=r||Ma,D=!!N.length,$=L===ft,O=d.useCallback(function(F,W){return Tn(C,F)||W},[C]),P=d.useMemo(function(){return typeof i=="function"?i:function(F){var W=F&&F[i];return W}},[i]),A=O(["body"]),U=Ta(),Y=z(U,3),B=Y[0],ee=Y[1],ie=Y[2],le=wa(e,N,P),te=z(le,6),H=te[0],Z=te[1],ve=te[2],X=te[3],q=te[4],j=te[5],ye=c==null?void 0:c.x,be=d.useState(0),$e=z(be,2),pe=$e[0],Ke=$e[1],we=ka(R(R(R({},e),H),{},{expandable:!!H.expandedRowRender,columnTitle:H.columnTitle,expandedKeys:ve,getRowKey:P,onTriggerExpand:j,expandIcon:X,expandIconColumnIndex:H.expandIconColumnIndex,direction:v,scrollWidth:$&&I&&typeof ye=="number"?ye:null,clientWidth:pe}),$?T:null),Se=z(we,3),me=Se[0],_=Se[1],ue=Se[2],J=ue??ye,ge=d.useMemo(function(){return{columns:me,flattenColumns:_}},[me,_]),re=d.useRef(),ae=d.useRef(),Q=d.useRef(),Te=d.useRef();d.useImperativeHandle(o,function(){return{nativeElement:re.current,scrollTo:function(W){var se;if(Q.current instanceof HTMLElement){var de=W.index,Ee=W.top,Ue=W.key;if(Ee){var _e;(_e=Q.current)===null||_e===void 0||_e.scrollTo({top:Ee})}else{var Ae,Je=Ue??P(N[de]);(Ae=Q.current.querySelector('[data-row-key="'.concat(Je,'"]')))===null||Ae===void 0||Ae.scrollIntoView()}}else(se=Q.current)!==null&&se!==void 0&&se.scrollTo&&Q.current.scrollTo(W)}}});var Le=d.useRef(),$t=d.useState(!1),_t=z($t,2),dr=_t[0],tt=_t[1],sr=d.useState(!1),At=z(sr,2),cr=At[0],nt=At[1],ur=Zn(new Map),Ht=z(ur,2),fr=Ht[0],vr=Ht[1],pr=vt(_),Ft=pr.map(function(F){return fr.get(F)}),Bt=d.useMemo(function(){return Ft},[Ft.join("_")]),rt=Pa(Bt,_.length,v),xe=c&&bt(c.y),ke=c&&bt(J)||!!H.fixed,Ye=ke&&_.some(function(F){var W=F.fixed;return W}),Wt=d.useRef(),We=La(k,a),Pe=We.isSticky,mr=We.offsetHeader,hr=We.offsetSummary,yr=We.offsetScroll,gr=We.stickyClassName,xr=We.container,Ce=d.useMemo(function(){return g==null?void 0:g(N)},[g,N]),qe=(xe||Pe)&&d.isValidElement(Ce)&&Ce.type===pt&&Ce.props.fixed,mt,at,ht;xe&&(at={overflowY:"scroll",maxHeight:c.y}),ke&&(mt={overflowX:"auto"},xe||(at={overflowY:"hidden"}),ht={width:J===!0?"auto":J,minWidth:"100%"});var zt=d.useCallback(function(F,W){Ir(re.current)&&vr(function(se){if(se.get(F)!==W){var de=new Map(se);return de.set(F,W),de}return se})},[]),Cr=Da(),Ut=z(Cr,2),Er=Ut[0],Vt=Ut[1];function ot(F,W){W&&(typeof W=="function"?W(F):W.scrollLeft!==F&&(W.scrollLeft=F,W.scrollLeft!==F&&setTimeout(function(){W.scrollLeft=F},0)))}var ze=Rt(function(F){var W=F.currentTarget,se=F.scrollLeft,de=v==="rtl",Ee=typeof se=="number"?se:W.scrollLeft,Ue=W||$a;if(!Vt()||Vt()===Ue){var _e;Er(Ue),ot(Ee,ae.current),ot(Ee,Q.current),ot(Ee,Le.current),ot(Ee,(_e=Wt.current)===null||_e===void 0?void 0:_e.setScrollLeft)}var Ae=W||ae.current;if(Ae){var Je=Ae.scrollWidth,Et=Ae.clientWidth;if(Je===Et){tt(!1),nt(!1);return}de?(tt(-Ee<Je-Et),nt(-Ee>0)):(tt(Ee>0),nt(Ee<Je-Et))}}),jt=function(){ke&&Q.current?ze({currentTarget:Q.current}):(tt(!1),nt(!1))},Nr=function(W){var se=W.width,de=re.current?re.current.offsetWidth:se;$&&w&&re.current&&(de=w(re.current,de)||de),de!==pe&&(jt(),Ke(de))},Gt=d.useRef(!1);d.useEffect(function(){Gt.current&&jt()},[ke,r,me.length]),d.useEffect(function(){Gt.current=!0},[]);var Sr=d.useState(0),Xt=z(Sr,2),it=Xt[0],Yt=Xt[1],kr=d.useState(!0),qt=z(kr,2),Jt=qt[0],br=qt[1];d.useEffect(function(){(!I||!$)&&(Q.current instanceof Element?Yt(un(Q.current).width):Yt(un(Te.current).width)),br(Or("position","sticky"))},[]),d.useEffect(function(){$&&K&&(K.body.current=Q.current)});var Kr=d.useCallback(function(F){return d.createElement(d.Fragment,null,d.createElement(vn,F),qe==="top"&&d.createElement(st,F,Ce))},[qe,Ce]),wr=d.useCallback(function(F){return d.createElement(st,F,Ce)},[Ce]),Qt=O(["table"],"table"),lt=d.useMemo(function(){return u||(Ye?J==="max-content"?"auto":"fixed":xe||Pe||_.some(function(F){var W=F.ellipsis;return W})?"fixed":"auto")},[xe,Ye,_,u,Pe]),yt,gt={colWidths:Bt,columCount:_.length,stickyOffsets:rt,onHeaderRow:b,fixHeader:xe,scroll:c},Zt=d.useMemo(function(){return D?null:typeof S=="function"?S():S},[D,S]),en=d.createElement(fa,{data:N,measureColumnWidth:xe||ke||Pe}),tn=d.createElement(Yn,{colWidths:_.map(function(F){var W=F.width;return W}),columns:_}),nn=y!=null?d.createElement("caption",{className:"".concat(a,"-caption")},y):void 0,Rr=ct(e,{data:!0}),rn=ct(e,{aria:!0});if(xe||Pe){var xt;typeof A=="function"?(xt=A(N,{scrollbarSize:it,ref:Q,onScroll:ze}),gt.colWidths=_.map(function(F,W){var se=F.width,de=W===_.length-1?se-it:se;return typeof de=="number"&&!Number.isNaN(de)?de:0})):xt=d.createElement("div",{style:R(R({},mt),at),onScroll:ze,ref:Q,className:G("".concat(a,"-body"))},d.createElement(Qt,V({style:R(R({},ht),{},{tableLayout:lt})},rn),nn,tn,en,!qe&&Ce&&d.createElement(st,{stickyOffsets:rt,flattenColumns:_,columns:me},Ce)));var an=R(R(R({noData:!N.length,maxContentScroll:ke&&J==="max-content"},gt),ge),{},{direction:v,stickyClassName:gr,onScroll:ze});yt=d.createElement(d.Fragment,null,x!==!1&&d.createElement(fn,V({},an,{stickyTopOffset:mr,className:"".concat(a,"-header"),ref:ae}),Kr),xt,qe&&qe!=="top"&&d.createElement(fn,V({},an,{stickyBottomOffset:hr,className:"".concat(a,"-summary"),ref:Le}),wr),Pe&&Q.current&&Q.current instanceof Element&&d.createElement(Oa,{ref:Wt,offsetScroll:yr,scrollBodyRef:Q,onScroll:ze,container:xr}))}else yt=d.createElement("div",{style:R(R({},mt),at),className:G("".concat(a,"-content")),onScroll:ze,ref:Q},d.createElement(Qt,V({style:R(R({},ht),{},{tableLayout:lt})},rn),nn,tn,x!==!1&&d.createElement(vn,V({},gt,ge)),en,Ce&&d.createElement(st,{stickyOffsets:rt,flattenColumns:_,columns:me},Ce)));var Ct=d.createElement("div",V({className:G(a,s,(l={},M(l,"".concat(a,"-rtl"),v==="rtl"),M(l,"".concat(a,"-ping-left"),dr),M(l,"".concat(a,"-ping-right"),cr),M(l,"".concat(a,"-layout-fixed"),u==="fixed"),M(l,"".concat(a,"-fixed-header"),xe),M(l,"".concat(a,"-fixed-column"),Ye),M(l,"".concat(a,"-scroll-horizontal"),ke),M(l,"".concat(a,"-has-fix-left"),_[0]&&_[0].fixed),M(l,"".concat(a,"-has-fix-right"),_[_.length-1]&&_[_.length-1].fixed==="right"),l)),style:n,id:h,ref:re},Rr),p&&d.createElement(hn,{className:"".concat(a,"-title")},p(N)),d.createElement("div",{ref:Te,className:"".concat(a,"-container")},yt),m&&d.createElement(hn,{className:"".concat(a,"-footer")},m(N)));ke&&(Ct=d.createElement(Tt,{onResize:Nr},Ct));var on=Ra(_,rt,v,me),Dr=d.useMemo(function(){return{scrollX:J,prefixCls:a,getComponent:O,scrollbarSize:it,direction:v,fixedInfoList:on,isSticky:Pe,supportSticky:Jt,componentWidth:pe,fixHeader:xe,fixColumn:Ye,horizonScroll:ke,tableLayout:lt,rowClassName:f,expandedRowClassName:H.expandedRowClassName,expandIcon:X,expandableType:Z,expandRowByClick:H.expandRowByClick,expandedRowRender:H.expandedRowRender,onTriggerExpand:j,expandIconColumnIndex:H.expandIconColumnIndex,indentSize:H.indentSize,allColumnsFixedLeft:_.every(function(F){return F.fixed==="left"}),emptyNode:Zt,columns:me,flattenColumns:_,onColumnResize:zt,hoverStartRow:B,hoverEndRow:ee,onHover:ie,rowExpandable:H.rowExpandable,onRow:E,getRowKey:P,expandedKeys:ve,childrenColumnName:q}},[J,a,O,it,v,on,Pe,Jt,pe,xe,Ye,ke,lt,f,H.expandedRowClassName,X,Z,H.expandRowByClick,H.expandedRowRender,j,H.expandIconColumnIndex,H.indentSize,Zt,me,_,zt,B,ee,ie,H.rowExpandable,E,P,ve,q]);return d.createElement(fe.Provider,{value:Dr},Ct)}var Ha=d.forwardRef(Aa);function Fa(t){return An(Ha,t)}var Xe=Fa();Xe.EXPAND_COLUMN=He;Xe.INTERNAL_HOOKS=ft;Xe.Column=la;Xe.ColumnGroup=da;Xe.Summary=ia;var tr=Lt(null),nr=Lt(null);function Ba(t,o,l){var e=o||1;return l[t+e]-(l[t]||0)}function Wa(t){var o=t.rowInfo,l=t.column,e=t.colIndex,a=t.indent,s=t.index,f=t.renderIndex,n=t.record,r=t.style,i=t.className,c=t.inverse,u=t.getHeight,v=l.render,p=l.dataIndex,m=l.className,g=l.width,y=ce(nr,["columnsOffset"]),h=y.columnsOffset,x=Vn(o,l,e,a,s),C=x.key,S=x.fixedInfo,E=x.appendCellNode,b=x.additionalCellProps,L=b.style,T=b.colSpan,K=T===void 0?1:T,I=b.rowSpan,w=I===void 0?1:I,k=e-1,N=Ba(k,K,h),D=K>1?g-N:0,$=R(R(R({},L),r),{},{flex:"0 0 ".concat(N,"px"),width:"".concat(N,"px"),marginRight:D,pointerEvents:"auto"}),O=d.useMemo(function(){return c?w<=1:K===0||w===0||w>1},[w,K,c]);O?$.visibility="hidden":c&&($.height=u==null?void 0:u(w));var P=O?function(){return null}:v,A={};return(w===0||K===0)&&(A.rowSpan=1,A.colSpan=1),d.createElement(Be,V({className:G(m,i),ellipsis:l.ellipsis,align:l.align,scope:l.rowScope,component:"div",prefixCls:o.prefixCls,key:C,record:n,index:s,renderIndex:f,dataIndex:p,render:P,shouldCellUpdate:l.shouldCellUpdate},S,{appendNode:E,additionalProps:R(R({},b),{},{style:$},A)}))}var za=["data","index","className","rowKey","style","extra","getHeight"],Ua=d.forwardRef(function(t,o){var l=t.data,e=t.index,a=t.className,s=t.rowKey,f=t.style,n=t.extra,r=t.getHeight,i=Ne(t,za),c=l.record,u=l.indent,v=l.index,p=ce(fe,["prefixCls","flattenColumns","fixColumn","componentWidth","scrollX"]),m=p.scrollX,g=p.flattenColumns,y=p.prefixCls,h=p.fixColumn,x=p.componentWidth,C=zn(c,s,e,u),S=C.rowSupportExpand,E=C.expanded,b=C.rowProps,L=C.expandedRowRender,T=C.expandedRowClassName,K;if(S&&E){var I=L(c,e,u+1,E),w=T==null?void 0:T(c,e,u),k={};h&&(k={style:M({},"--virtual-width","".concat(x,"px"))});var N="".concat(y,"-expanded-row-cell");K=d.createElement("div",{className:G("".concat(y,"-expanded-row"),"".concat(y,"-expanded-row-level-").concat(u+1),w)},d.createElement(Be,{component:"div",prefixCls:y,className:G(N,M({},"".concat(N,"-fixed"),h)),additionalProps:k},I))}var D=R(R({},f),{},{width:m});n&&(D.position="absolute",D.pointerEvents="none");var $=d.createElement("div",V({},b,i,{ref:S?null:o,className:G(a,"".concat(y,"-row"),b==null?void 0:b.className,M({},"".concat(y,"-row-extra"),n)),style:R(R({},D),b==null?void 0:b.style)}),g.map(function(O,P){return d.createElement(Wa,{key:P,rowInfo:C,column:O,colIndex:P,indent:u,index:e,renderIndex:v,record:c,inverse:n,getHeight:r})}));return S?d.createElement("div",{ref:o},$,K):$}),yn=Ge(Ua),Va=d.forwardRef(function(t,o){var l=t.data,e=t.onScroll,a=ce(fe,["flattenColumns","onColumnResize","getRowKey","prefixCls","expandedKeys","childrenColumnName","emptyNode","scrollX"]),s=a.flattenColumns,f=a.onColumnResize,n=a.getRowKey,r=a.expandedKeys,i=a.prefixCls,c=a.childrenColumnName,u=a.emptyNode,v=a.scrollX,p=ce(tr),m=p.sticky,g=p.scrollY,y=p.listItemHeight,h=d.useRef(),x=Wn(l,c,r,n),C=d.useMemo(function(){var w=0;return s.map(function(k){var N=k.width,D=k.key;return w+=N,[D,N,w]})},[s]),S=d.useMemo(function(){return C.map(function(w){return w[2]})},[C]);d.useEffect(function(){C.forEach(function(w){var k=z(w,2),N=k[0],D=k[1];f(N,D)})},[C]),d.useImperativeHandle(o,function(){var w={scrollTo:function(N){var D;(D=h.current)===null||D===void 0||D.scrollTo(N)}};return Object.defineProperty(w,"scrollLeft",{get:function(){var N;return((N=h.current)===null||N===void 0?void 0:N.getScrollInfo().x)||0},set:function(N){var D;(D=h.current)===null||D===void 0||D.scrollTo({left:N})}}),w});var E=function(k,N){var D,$=(D=x[N])===null||D===void 0?void 0:D.record,O=k.onCell;if(O){var P,A=O($,N);return(P=A==null?void 0:A.rowSpan)!==null&&P!==void 0?P:1}return 1},b=function(k){var N=k.start,D=k.end,$=k.getSize,O=k.offsetY;if(D<0)return null;for(var P=s.filter(function(X){return E(X,N)===0}),A=N,U=function(q){if(P=P.filter(function(j){return E(j,q)===0}),!P.length)return A=q,1},Y=N;Y>=0&&!U(Y);Y-=1);for(var B=s.filter(function(X){return E(X,D)!==1}),ee=D,ie=function(q){if(B=B.filter(function(j){return E(j,q)!==1}),!B.length)return ee=Math.max(q-1,D),1},le=D;le<x.length&&!ie(le);le+=1);for(var te=[],H=function(q){var j=x[q];if(!j)return 1;s.some(function(ye){return E(ye,q)>1})&&te.push(q)},Z=A;Z<=ee;Z+=1)H(Z);var ve=te.map(function(X){var q=x[X],j=n(q.record,X),ye=function(pe){var Ke=X+pe-1,we=n(x[Ke].record,Ke),Se=$(j,we);return Se.bottom-Se.top},be=$(j);return d.createElement(yn,{key:X,data:q,rowKey:j,index:X,style:{top:-O+be.top},extra:!0,getHeight:ye})});return ve},L=d.useMemo(function(){return{columnsOffset:S}},[S]),T="".concat(i,"-tbody"),K;if(x.length){var I={};m&&(I.position="sticky",I.bottom=0,De(m)==="object"&&m.offsetScroll&&(I.bottom=m.offsetScroll)),K=d.createElement(Mn,{fullHeight:!1,ref:h,styles:{horizontalScrollBar:I},className:G(T,"".concat(T,"-virtual")),height:g,itemHeight:y||24,data:x,itemKey:function(k){return n(k.record)},scrollWidth:v,onVirtualScroll:function(k){var N=k.x;e({scrollLeft:N})},extraRender:b},function(w,k,N){var D=n(w.record,k);return d.createElement(yn,V({data:w,rowKey:D,index:k},N))})}else K=d.createElement("div",{className:G("".concat(i,"-placeholder"))},d.createElement(Be,{component:"div",prefixCls:i},u));return d.createElement(nr.Provider,{value:L},K)}),ja=Ge(Va),Ga=function(o,l){var e=l.ref,a=l.onScroll;return d.createElement(ja,{ref:e,data:o,onScroll:a})};function Xa(t,o){var l=t.columns,e=t.scroll,a=t.sticky,s=t.prefixCls,f=s===void 0?er:s,n=t.className,r=t.listItemHeight,i=t.components,c=e||{},u=c.x,v=c.y;typeof u!="number"&&(u=1),typeof v!="number"&&(v=500);var p=d.useMemo(function(){return{sticky:a,scrollY:v,listItemHeight:r}},[a,v,r]);return d.createElement(tr.Provider,{value:p},d.createElement(Xe,V({},t,{className:G(n,"".concat(f,"-virtual")),scroll:R(R({},e),{},{x:u}),components:R(R({},i),{},{body:Ga}),columns:l,internalHooks:ft,tailor:!0,ref:o})))}var Ya=d.forwardRef(Xa);function qa(t){return An(Ya,t)}const yo=qa();var Ot=d.createContext(null),Ja=function(o){for(var l=o.prefixCls,e=o.level,a=o.isStart,s=o.isEnd,f="".concat(l,"-indent-unit"),n=[],r=0;r<e;r+=1){var i;n.push(d.createElement("span",{key:r,className:G(f,(i={},M(i,"".concat(f,"-start"),a[r]),M(i,"".concat(f,"-end"),s[r]),i))}))}return d.createElement("span",{"aria-hidden":"true",className:"".concat(l,"-indent")},n)};const Qa=d.memo(Ja);var Za=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],gn="open",xn="close",eo="---",to=function(t){Ln(l,t);var o=Pn(l);function l(){var e;In(this,l);for(var a=arguments.length,s=new Array(a),f=0;f<a;f++)s[f]=arguments[f];return e=o.call.apply(o,[this].concat(s)),e.state={dragNodeHighlight:!1},e.selectHandle=void 0,e.cacheIndent=void 0,e.onSelectorClick=function(n){var r=e.props.context.onNodeClick;r(n,ne(e.props)),e.isSelectable()?e.onSelect(n):e.onCheck(n)},e.onSelectorDoubleClick=function(n){var r=e.props.context.onNodeDoubleClick;r(n,ne(e.props))},e.onSelect=function(n){if(!e.isDisabled()){var r=e.props.context.onNodeSelect;r(n,ne(e.props))}},e.onCheck=function(n){if(!e.isDisabled()){var r=e.props,i=r.disableCheckbox,c=r.checked,u=e.props.context.onNodeCheck;if(!(!e.isCheckable()||i)){var v=!c;u(n,ne(e.props),v)}}},e.onMouseEnter=function(n){var r=e.props.context.onNodeMouseEnter;r(n,ne(e.props))},e.onMouseLeave=function(n){var r=e.props.context.onNodeMouseLeave;r(n,ne(e.props))},e.onContextMenu=function(n){var r=e.props.context.onNodeContextMenu;r(n,ne(e.props))},e.onDragStart=function(n){var r=e.props.context.onNodeDragStart;n.stopPropagation(),e.setState({dragNodeHighlight:!0}),r(n,Oe(e));try{n.dataTransfer.setData("text/plain","")}catch{}},e.onDragEnter=function(n){var r=e.props.context.onNodeDragEnter;n.preventDefault(),n.stopPropagation(),r(n,Oe(e))},e.onDragOver=function(n){var r=e.props.context.onNodeDragOver;n.preventDefault(),n.stopPropagation(),r(n,Oe(e))},e.onDragLeave=function(n){var r=e.props.context.onNodeDragLeave;n.stopPropagation(),r(n,Oe(e))},e.onDragEnd=function(n){var r=e.props.context.onNodeDragEnd;n.stopPropagation(),e.setState({dragNodeHighlight:!1}),r(n,Oe(e))},e.onDrop=function(n){var r=e.props.context.onNodeDrop;n.preventDefault(),n.stopPropagation(),e.setState({dragNodeHighlight:!1}),r(n,Oe(e))},e.onExpand=function(n){var r=e.props,i=r.loading,c=r.context.onNodeExpand;i||c(n,ne(e.props))},e.setSelectHandle=function(n){e.selectHandle=n},e.getNodeState=function(){var n=e.props.expanded;return e.isLeaf()?null:n?gn:xn},e.hasChildren=function(){var n=e.props.eventKey,r=e.props.context.keyEntities,i=he(r,n)||{},c=i.children;return!!(c||[]).length},e.isLeaf=function(){var n=e.props,r=n.isLeaf,i=n.loaded,c=e.props.context.loadData,u=e.hasChildren();return r===!1?!1:r||!c&&!u||c&&i&&!u},e.isDisabled=function(){var n=e.props.disabled,r=e.props.context.disabled;return!!(r||n)},e.isCheckable=function(){var n=e.props.checkable,r=e.props.context.checkable;return!r||n===!1?!1:r},e.syncLoadData=function(n){var r=n.expanded,i=n.loading,c=n.loaded,u=e.props.context,v=u.loadData,p=u.onNodeLoad;i||v&&r&&!e.isLeaf()&&!e.hasChildren()&&!c&&p(ne(e.props))},e.isDraggable=function(){var n=e.props,r=n.data,i=n.context.draggable;return!!(i&&(!i.nodeDraggable||i.nodeDraggable(r)))},e.renderDragHandler=function(){var n=e.props.context,r=n.draggable,i=n.prefixCls;return r!=null&&r.icon?d.createElement("span",{className:"".concat(i,"-draggable-icon")},r.icon):null},e.renderSwitcherIconDom=function(n){var r=e.props.switcherIcon,i=e.props.context.switcherIcon,c=r||i;return typeof c=="function"?c(R(R({},e.props),{},{isLeaf:n})):c},e.renderSwitcher=function(){var n=e.props.expanded,r=e.props.context.prefixCls;if(e.isLeaf()){var i=e.renderSwitcherIconDom(!0);return i!==!1?d.createElement("span",{className:G("".concat(r,"-switcher"),"".concat(r,"-switcher-noop"))},i):null}var c=G("".concat(r,"-switcher"),"".concat(r,"-switcher_").concat(n?gn:xn)),u=e.renderSwitcherIconDom(!1);return u!==!1?d.createElement("span",{onClick:e.onExpand,className:c},u):null},e.renderCheckbox=function(){var n=e.props,r=n.checked,i=n.halfChecked,c=n.disableCheckbox,u=e.props.context.prefixCls,v=e.isDisabled(),p=e.isCheckable();if(!p)return null;var m=typeof p!="boolean"?p:null;return d.createElement("span",{className:G("".concat(u,"-checkbox"),r&&"".concat(u,"-checkbox-checked"),!r&&i&&"".concat(u,"-checkbox-indeterminate"),(v||c)&&"".concat(u,"-checkbox-disabled")),onClick:e.onCheck},m)},e.renderIcon=function(){var n=e.props.loading,r=e.props.context.prefixCls;return d.createElement("span",{className:G("".concat(r,"-iconEle"),"".concat(r,"-icon__").concat(e.getNodeState()||"docu"),n&&"".concat(r,"-icon_loading"))})},e.renderSelector=function(){var n=e.state.dragNodeHighlight,r=e.props,i=r.title,c=i===void 0?eo:i,u=r.selected,v=r.icon,p=r.loading,m=r.data,g=e.props.context,y=g.prefixCls,h=g.showIcon,x=g.icon,C=g.loadData,S=g.titleRender,E=e.isDisabled(),b="".concat(y,"-node-content-wrapper"),L;if(h){var T=v||x;L=T?d.createElement("span",{className:G("".concat(y,"-iconEle"),"".concat(y,"-icon__customize"))},typeof T=="function"?T(e.props):T):e.renderIcon()}else C&&p&&(L=e.renderIcon());var K;typeof c=="function"?K=c(m):S?K=S(m):K=c;var I=d.createElement("span",{className:"".concat(y,"-title")},K);return d.createElement("span",{ref:e.setSelectHandle,title:typeof c=="string"?c:"",className:G("".concat(b),"".concat(b,"-").concat(e.getNodeState()||"normal"),!E&&(u||n)&&"".concat(y,"-node-selected")),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,onClick:e.onSelectorClick,onDoubleClick:e.onSelectorDoubleClick},L,I,e.renderDropIndicator())},e.renderDropIndicator=function(){var n=e.props,r=n.disabled,i=n.eventKey,c=e.props.context,u=c.draggable,v=c.dropLevelOffset,p=c.dropPosition,m=c.prefixCls,g=c.indent,y=c.dropIndicatorRender,h=c.dragOverNodeKey,x=c.direction,C=!!u,S=!r&&C&&h===i,E=g??e.cacheIndent;return e.cacheIndent=g,S?y({dropPosition:p,dropLevelOffset:v,indent:E,prefixCls:m,direction:x}):null},e}return On(l,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var a=this.props.selectable,s=this.props.context.selectable;return typeof a=="boolean"?a:s}},{key:"render",value:function(){var a,s=this.props,f=s.eventKey,n=s.className,r=s.style,i=s.dragOver,c=s.dragOverGapTop,u=s.dragOverGapBottom,v=s.isLeaf,p=s.isStart,m=s.isEnd,g=s.expanded,y=s.selected,h=s.checked,x=s.halfChecked,C=s.loading,S=s.domRef,E=s.active;s.data;var b=s.onMouseMove,L=s.selectable,T=Ne(s,Za),K=this.props.context,I=K.prefixCls,w=K.filterTreeNode,k=K.keyEntities,N=K.dropContainerKey,D=K.dropTargetKey,$=K.draggingNodeKey,O=this.isDisabled(),P=ct(T,{aria:!0,data:!0}),A=he(k,f)||{},U=A.level,Y=m[m.length-1],B=this.isDraggable(),ee=!O&&B,ie=$===f,le=L!==void 0?{"aria-selected":!!L}:void 0;return d.createElement("div",V({ref:S,className:G(n,"".concat(I,"-treenode"),(a={},M(a,"".concat(I,"-treenode-disabled"),O),M(a,"".concat(I,"-treenode-switcher-").concat(g?"open":"close"),!v),M(a,"".concat(I,"-treenode-checkbox-checked"),h),M(a,"".concat(I,"-treenode-checkbox-indeterminate"),x),M(a,"".concat(I,"-treenode-selected"),y),M(a,"".concat(I,"-treenode-loading"),C),M(a,"".concat(I,"-treenode-active"),E),M(a,"".concat(I,"-treenode-leaf-last"),Y),M(a,"".concat(I,"-treenode-draggable"),B),M(a,"dragging",ie),M(a,"drop-target",D===f),M(a,"drop-container",N===f),M(a,"drag-over",!O&&i),M(a,"drag-over-gap-top",!O&&c),M(a,"drag-over-gap-bottom",!O&&u),M(a,"filter-node",w&&w(ne(this.props))),a)),style:r,draggable:ee,"aria-grabbed":ie,onDragStart:ee?this.onDragStart:void 0,onDragEnter:B?this.onDragEnter:void 0,onDragOver:B?this.onDragOver:void 0,onDragLeave:B?this.onDragLeave:void 0,onDrop:B?this.onDrop:void 0,onDragEnd:B?this.onDragEnd:void 0,onMouseMove:b},le,P),d.createElement(Qa,{prefixCls:I,level:U,isStart:p,isEnd:m}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),l}(d.Component),Ze=function(o){return d.createElement(Ot.Consumer,null,function(l){return d.createElement(to,V({},o,{context:l}))})};Ze.displayName="TreeNode";Ze.isTreeNode=1;function Re(t,o){if(!t)return[];var l=t.slice(),e=l.indexOf(o);return e>=0&&l.splice(e,1),l}function Ie(t,o){var l=(t||[]).slice();return l.indexOf(o)===-1&&l.push(o),l}function Mt(t){return t.split("-")}function no(t,o){var l=[],e=he(o,t);function a(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];s.forEach(function(f){var n=f.key,r=f.children;l.push(n),a(r)})}return a(e.children),l}function ro(t){if(t.parent){var o=Mt(t.pos);return Number(o[o.length-1])===t.parent.children.length-1}return!1}function ao(t){var o=Mt(t.pos);return Number(o[o.length-1])===0}function Cn(t,o,l,e,a,s,f,n,r,i){var c,u=t.clientX,v=t.clientY,p=t.target.getBoundingClientRect(),m=p.top,g=p.height,y=(i==="rtl"?-1:1)*(((a==null?void 0:a.x)||0)-u),h=(y-12)/e,x=he(n,l.props.eventKey);if(v<m+g/2){var C=f.findIndex(function($){return $.key===x.key}),S=C<=0?0:C-1,E=f[S].key;x=he(n,E)}var b=x.key,L=x,T=x.key,K=0,I=0;if(!r.includes(b))for(var w=0;w<h&&ro(x);w+=1)x=x.parent,I+=1;var k=o.props.data,N=x.node,D=!0;return ao(x)&&x.level===0&&v<m+g/2&&s({dragNode:k,dropNode:N,dropPosition:-1})&&x.key===l.props.eventKey?K=-1:(L.children||[]).length&&r.includes(T)?s({dragNode:k,dropNode:N,dropPosition:0})?K=0:D=!1:I===0?h>-1.5?s({dragNode:k,dropNode:N,dropPosition:1})?K=1:D=!1:s({dragNode:k,dropNode:N,dropPosition:0})?K=0:s({dragNode:k,dropNode:N,dropPosition:1})?K=1:D=!1:s({dragNode:k,dropNode:N,dropPosition:1})?K=1:D=!1,{dropPosition:K,dropLevelOffset:I,dropTargetKey:x.key,dropTargetPos:x.pos,dragOverNodeKey:T,dropContainerKey:K===0?null:((c=x.parent)===null||c===void 0?void 0:c.key)||null,dropAllowed:D}}function En(t,o){if(t){var l=o.multiple;return l?t.slice():t.length?[t[0]]:t}}function kt(t){if(!t)return null;var o;if(Array.isArray(t))o={checkedKeys:t,halfCheckedKeys:void 0};else if(De(t)==="object")o={checkedKeys:t.checked||void 0,halfCheckedKeys:t.halfChecked||void 0};else return Me(!1,"`checkedKeys` is not an array or an object"),null;return o}function Nn(t,o){var l=new Set;function e(a){if(!l.has(a)){var s=he(o,a);if(s){l.add(a);var f=s.parent,n=s.node;n.disabled||f&&e(f.key)}}}return(t||[]).forEach(function(a){e(a)}),oe(l)}function oo(t){var o=t.dropPosition,l=t.dropLevelOffset,e=t.indent,a={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(o){case-1:a.top=0,a.left=-l*e;break;case 1:a.bottom=0,a.left=-l*e;break;case 0:a.bottom=0,a.left=e;break}return d.createElement("div",{style:a})}function rr(t){if(t==null)throw new TypeError("Cannot destructure "+t)}function io(t,o){var l=d.useState(!1),e=z(l,2),a=e[0],s=e[1];je(function(){if(a)return t(),function(){o()}},[a]),je(function(){return s(!0),function(){s(!1)}},[])}var lo=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],ar=function(o,l){var e=o.className,a=o.style,s=o.motion,f=o.motionNodes,n=o.motionType,r=o.onMotionStart,i=o.onMotionEnd,c=o.active,u=o.treeNodeRequiredProps,v=Ne(o,lo),p=d.useState(!0),m=z(p,2),g=m[0],y=m[1],h=d.useContext(Ot),x=h.prefixCls,C=f&&n!=="hide";je(function(){f&&C!==g&&y(C)},[f]);var S=function(){f&&r()},E=d.useRef(!1),b=function(){f&&!E.current&&(E.current=!0,i())};io(S,b);var L=function(K){C===K&&b()};return f?d.createElement(Mr,V({ref:l,visible:g},s,{motionAppear:n==="show",onVisibleChanged:L}),function(T,K){var I=T.className,w=T.style;return d.createElement("div",{ref:K,className:G("".concat(x,"-treenode-motion"),I),style:w},f.map(function(k){var N=V({},(rr(k.data),k.data)),D=k.title,$=k.key,O=k.isStart,P=k.isEnd;delete N.children;var A=Qe($,u);return d.createElement(Ze,V({},N,A,{title:D,active:c,data:k.data,key:$,isStart:O,isEnd:P}))}))}):d.createElement(Ze,V({domRef:l,className:e,style:a},v,{active:c}))};ar.displayName="MotionTreeNode";var so=d.forwardRef(ar);function co(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],l=t.length,e=o.length;if(Math.abs(l-e)!==1)return{add:!1,key:null};function a(s,f){var n=new Map;s.forEach(function(i){n.set(i,!0)});var r=f.filter(function(i){return!n.has(i)});return r.length===1?r[0]:null}return l<e?{add:!0,key:a(t,o)}:{add:!1,key:a(o,t)}}function Sn(t,o,l){var e=t.findIndex(function(n){return n.key===l}),a=t[e+1],s=o.findIndex(function(n){return n.key===l});if(a){var f=o.findIndex(function(n){return n.key===a.key});return o.slice(s+1,f)}return o.slice(s+1)}var uo=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],kn={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},fo=function(){},Fe="RC_TREE_MOTION_".concat(Math.random()),wt={key:Fe},or={key:Fe,level:0,index:0,pos:"0",node:wt,nodes:[wt]},bn={parent:null,children:[],pos:or.pos,data:wt,title:null,key:Fe,isStart:[],isEnd:[]};function Kn(t,o,l,e){return o===!1||!l?t:t.slice(0,Math.ceil(l/e)+1)}function wn(t){var o=t.key,l=t.pos;return et(o,l)}function vo(t){for(var o=String(t.data.key),l=t;l.parent;)l=l.parent,o="".concat(l.data.key," > ").concat(o);return o}var ir=d.forwardRef(function(t,o){var l=t.prefixCls,e=t.data;t.selectable,t.checkable;var a=t.expandedKeys,s=t.selectedKeys,f=t.checkedKeys,n=t.loadedKeys,r=t.loadingKeys,i=t.halfCheckedKeys,c=t.keyEntities,u=t.disabled,v=t.dragging,p=t.dragOverNodeKey,m=t.dropPosition,g=t.motion,y=t.height,h=t.itemHeight,x=t.virtual,C=t.focusable,S=t.activeItem,E=t.focused,b=t.tabIndex,L=t.onKeyDown,T=t.onFocus,K=t.onBlur,I=t.onActiveChange,w=t.onListChangeStart,k=t.onListChangeEnd,N=Ne(t,uo),D=d.useRef(null),$=d.useRef(null);d.useImperativeHandle(o,function(){return{scrollTo:function(ue){D.current.scrollTo(ue)},getIndentWidth:function(){return $.current.offsetWidth}}});var O=d.useState(a),P=z(O,2),A=P[0],U=P[1],Y=d.useState(e),B=z(Y,2),ee=B[0],ie=B[1],le=d.useState(e),te=z(le,2),H=te[0],Z=te[1],ve=d.useState([]),X=z(ve,2),q=X[0],j=X[1],ye=d.useState(null),be=z(ye,2),$e=be[0],pe=be[1],Ke=d.useRef(e);Ke.current=e;function we(){var _=Ke.current;ie(_),Z(_),j([]),pe(null),k()}je(function(){U(a);var _=co(A,a);if(_.key!==null)if(_.add){var ue=ee.findIndex(function(Te){var Le=Te.key;return Le===_.key}),J=Kn(Sn(ee,e,_.key),x,y,h),ge=ee.slice();ge.splice(ue+1,0,bn),Z(ge),j(J),pe("show")}else{var re=e.findIndex(function(Te){var Le=Te.key;return Le===_.key}),ae=Kn(Sn(e,ee,_.key),x,y,h),Q=e.slice();Q.splice(re+1,0,bn),Z(Q),j(ae),pe("hide")}else ee!==e&&(ie(e),Z(e))},[a,e]),d.useEffect(function(){v||we()},[v]);var Se=g?H:e,me={expandedKeys:a,selectedKeys:s,loadedKeys:n,loadingKeys:r,checkedKeys:f,halfCheckedKeys:i,dragOverNodeKey:p,dropPosition:m,keyEntities:c};return d.createElement(d.Fragment,null,E&&S&&d.createElement("span",{style:kn,"aria-live":"assertive"},vo(S)),d.createElement("div",null,d.createElement("input",{style:kn,disabled:C===!1||u,tabIndex:C!==!1?b:null,onKeyDown:L,onFocus:T,onBlur:K,value:"",onChange:fo,"aria-label":"for screen reader"})),d.createElement("div",{className:"".concat(l,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},d.createElement("div",{className:"".concat(l,"-indent")},d.createElement("div",{ref:$,className:"".concat(l,"-indent-unit")}))),d.createElement(Mn,V({},N,{data:Se,itemKey:wn,height:y,fullHeight:!1,virtual:x,itemHeight:h,prefixCls:"".concat(l,"-list"),ref:D,onVisibleChange:function(ue,J){var ge=new Set(ue),re=J.filter(function(ae){return!ge.has(ae)});re.some(function(ae){return wn(ae)===Fe})&&we()}}),function(_){var ue=_.pos,J=V({},(rr(_.data),_.data)),ge=_.title,re=_.key,ae=_.isStart,Q=_.isEnd,Te=et(re,ue);delete J.key,delete J.children;var Le=Qe(Te,me);return d.createElement(so,V({},J,Le,{title:ge,active:!!S&&re===S.key,pos:ue,data:_.data,isStart:ae,isEnd:Q,motion:g,motionNodes:re===Fe?q:null,motionType:$e,onMotionStart:w,onMotionEnd:we,treeNodeRequiredProps:me,onMouseMove:function(){I(null)}}))}))});ir.displayName="NodeList";var po=10,lr=function(t){Ln(l,t);var o=Pn(l);function l(){var e;In(this,l);for(var a=arguments.length,s=new Array(a),f=0;f<a;f++)s[f]=arguments[f];return e=o.call.apply(o,[this].concat(s)),e.destroyed=!1,e.delayedDragEnterLogic=void 0,e.loadingRetryTimes={},e.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:ut()},e.dragStartMousePosition=null,e.dragNode=void 0,e.currentMouseOverDroppableNodeKey=null,e.listRef=d.createRef(),e.onNodeDragStart=function(n,r){var i=e.state,c=i.expandedKeys,u=i.keyEntities,v=e.props.onDragStart,p=r.props.eventKey;e.dragNode=r,e.dragStartMousePosition={x:n.clientX,y:n.clientY};var m=Re(c,p);e.setState({draggingNodeKey:p,dragChildrenKeys:no(p,u),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(m),window.addEventListener("dragend",e.onWindowDragEnd),v==null||v({event:n,node:ne(r.props)})},e.onNodeDragEnter=function(n,r){var i=e.state,c=i.expandedKeys,u=i.keyEntities,v=i.dragChildrenKeys,p=i.flattenNodes,m=i.indent,g=e.props,y=g.onDragEnter,h=g.onExpand,x=g.allowDrop,C=g.direction,S=r.props,E=S.pos,b=S.eventKey,L=Oe(e),T=L.dragNode;if(e.currentMouseOverDroppableNodeKey!==b&&(e.currentMouseOverDroppableNodeKey=b),!T){e.resetDragState();return}var K=Cn(n,T,r,m,e.dragStartMousePosition,x,p,u,c,C),I=K.dropPosition,w=K.dropLevelOffset,k=K.dropTargetKey,N=K.dropContainerKey,D=K.dropTargetPos,$=K.dropAllowed,O=K.dragOverNodeKey;if(v.indexOf(k)!==-1||!$){e.resetDragState();return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(P){clearTimeout(e.delayedDragEnterLogic[P])}),T.props.eventKey!==r.props.eventKey&&(n.persist(),e.delayedDragEnterLogic[E]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var P=oe(c),A=he(u,r.props.eventKey);A&&(A.children||[]).length&&(P=Ie(c,r.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(P),h==null||h(P,{node:ne(r.props),expanded:!0,nativeEvent:n.nativeEvent})}},800)),T.props.eventKey===k&&w===0){e.resetDragState();return}e.setState({dragOverNodeKey:O,dropPosition:I,dropLevelOffset:w,dropTargetKey:k,dropContainerKey:N,dropTargetPos:D,dropAllowed:$}),y==null||y({event:n,node:ne(r.props),expandedKeys:c})},e.onNodeDragOver=function(n,r){var i=e.state,c=i.dragChildrenKeys,u=i.flattenNodes,v=i.keyEntities,p=i.expandedKeys,m=i.indent,g=e.props,y=g.onDragOver,h=g.allowDrop,x=g.direction,C=Oe(e),S=C.dragNode;if(S){var E=Cn(n,S,r,m,e.dragStartMousePosition,h,u,v,p,x),b=E.dropPosition,L=E.dropLevelOffset,T=E.dropTargetKey,K=E.dropContainerKey,I=E.dropAllowed,w=E.dropTargetPos,k=E.dragOverNodeKey;c.indexOf(T)!==-1||!I||(S.props.eventKey===T&&L===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():b===e.state.dropPosition&&L===e.state.dropLevelOffset&&T===e.state.dropTargetKey&&K===e.state.dropContainerKey&&w===e.state.dropTargetPos&&I===e.state.dropAllowed&&k===e.state.dragOverNodeKey||e.setState({dropPosition:b,dropLevelOffset:L,dropTargetKey:T,dropContainerKey:K,dropTargetPos:w,dropAllowed:I,dragOverNodeKey:k}),y==null||y({event:n,node:ne(r.props)}))}},e.onNodeDragLeave=function(n,r){e.currentMouseOverDroppableNodeKey===r.props.eventKey&&!n.currentTarget.contains(n.relatedTarget)&&(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var i=e.props.onDragLeave;i==null||i({event:n,node:ne(r.props)})},e.onWindowDragEnd=function(n){e.onNodeDragEnd(n,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDragEnd=function(n,r){var i=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),i==null||i({event:n,node:ne(r.props)}),e.dragNode=null,window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDrop=function(n,r){var i,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,u=e.state,v=u.dragChildrenKeys,p=u.dropPosition,m=u.dropTargetKey,g=u.dropTargetPos,y=u.dropAllowed;if(y){var h=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),m!==null){var x=R(R({},Qe(m,e.getTreeNodeRequiredProps())),{},{active:((i=e.getActiveItem())===null||i===void 0?void 0:i.key)===m,data:he(e.state.keyEntities,m).node}),C=v.indexOf(m)!==-1;Me(!C,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var S=Mt(g),E={event:n,node:ne(x),dragNode:e.dragNode?ne(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(v),dropToGap:p!==0,dropPosition:p+Number(S[S.length-1])};c||h==null||h(E),e.dragNode=null}}},e.cleanDragState=function(){var n=e.state.draggingNodeKey;n!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null},e.triggerExpandActionExpand=function(n,r){var i=e.state,c=i.expandedKeys,u=i.flattenNodes,v=r.expanded,p=r.key,m=r.isLeaf;if(!(m||n.shiftKey||n.metaKey||n.ctrlKey)){var g=u.filter(function(h){return h.key===p})[0],y=ne(R(R({},Qe(p,e.getTreeNodeRequiredProps())),{},{data:g.data}));e.setExpandedKeys(v?Re(c,p):Ie(c,p)),e.onNodeExpand(n,y)}},e.onNodeClick=function(n,r){var i=e.props,c=i.onClick,u=i.expandAction;u==="click"&&e.triggerExpandActionExpand(n,r),c==null||c(n,r)},e.onNodeDoubleClick=function(n,r){var i=e.props,c=i.onDoubleClick,u=i.expandAction;u==="doubleClick"&&e.triggerExpandActionExpand(n,r),c==null||c(n,r)},e.onNodeSelect=function(n,r){var i=e.state.selectedKeys,c=e.state,u=c.keyEntities,v=c.fieldNames,p=e.props,m=p.onSelect,g=p.multiple,y=r.selected,h=r[v.key],x=!y;x?g?i=Ie(i,h):i=[h]:i=Re(i,h);var C=i.map(function(S){var E=he(u,S);return E?E.node:null}).filter(function(S){return S});e.setUncontrolledState({selectedKeys:i}),m==null||m(i,{event:"select",selected:x,node:r,selectedNodes:C,nativeEvent:n.nativeEvent})},e.onNodeCheck=function(n,r,i){var c=e.state,u=c.keyEntities,v=c.checkedKeys,p=c.halfCheckedKeys,m=e.props,g=m.checkStrictly,y=m.onCheck,h=r.key,x,C={event:"check",node:r,checked:i,nativeEvent:n.nativeEvent};if(g){var S=i?Ie(v,h):Re(v,h),E=Re(p,h);x={checked:S,halfChecked:E},C.checkedNodes=S.map(function(w){return he(u,w)}).filter(function(w){return w}).map(function(w){return w.node}),e.setUncontrolledState({checkedKeys:S})}else{var b=St([].concat(oe(v),[h]),!0,u),L=b.checkedKeys,T=b.halfCheckedKeys;if(!i){var K=new Set(L);K.delete(h);var I=St(Array.from(K),{checked:!1,halfCheckedKeys:T},u);L=I.checkedKeys,T=I.halfCheckedKeys}x=L,C.checkedNodes=[],C.checkedNodesPositions=[],C.halfCheckedKeys=T,L.forEach(function(w){var k=he(u,w);if(k){var N=k.node,D=k.pos;C.checkedNodes.push(N),C.checkedNodesPositions.push({node:N,pos:D})}}),e.setUncontrolledState({checkedKeys:L},!1,{halfCheckedKeys:T})}y==null||y(x,C)},e.onNodeLoad=function(n){var r=n.key,i=new Promise(function(c,u){e.setState(function(v){var p=v.loadedKeys,m=p===void 0?[]:p,g=v.loadingKeys,y=g===void 0?[]:g,h=e.props,x=h.loadData,C=h.onLoad;if(!x||m.indexOf(r)!==-1||y.indexOf(r)!==-1)return null;var S=x(n);return S.then(function(){var E=e.state.loadedKeys,b=Ie(E,r);C==null||C(b,{event:"load",node:n}),e.setUncontrolledState({loadedKeys:b}),e.setState(function(L){return{loadingKeys:Re(L.loadingKeys,r)}}),c()}).catch(function(E){if(e.setState(function(L){return{loadingKeys:Re(L.loadingKeys,r)}}),e.loadingRetryTimes[r]=(e.loadingRetryTimes[r]||0)+1,e.loadingRetryTimes[r]>=po){var b=e.state.loadedKeys;Me(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:Ie(b,r)}),c()}u(E)}),{loadingKeys:Ie(y,r)}})});return i.catch(function(){}),i},e.onNodeMouseEnter=function(n,r){var i=e.props.onMouseEnter;i==null||i({event:n,node:r})},e.onNodeMouseLeave=function(n,r){var i=e.props.onMouseLeave;i==null||i({event:n,node:r})},e.onNodeContextMenu=function(n,r){var i=e.props.onRightClick;i&&(n.preventDefault(),i({event:n,node:r}))},e.onFocus=function(){var n=e.props.onFocus;e.setState({focused:!0});for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];n==null||n.apply(void 0,i)},e.onBlur=function(){var n=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];n==null||n.apply(void 0,i)},e.getTreeNodeRequiredProps=function(){var n=e.state,r=n.expandedKeys,i=n.selectedKeys,c=n.loadedKeys,u=n.loadingKeys,v=n.checkedKeys,p=n.halfCheckedKeys,m=n.dragOverNodeKey,g=n.dropPosition,y=n.keyEntities;return{expandedKeys:r||[],selectedKeys:i||[],loadedKeys:c||[],loadingKeys:u||[],checkedKeys:v||[],halfCheckedKeys:p||[],dragOverNodeKey:m,dropPosition:g,keyEntities:y}},e.setExpandedKeys=function(n){var r=e.state,i=r.treeData,c=r.fieldNames,u=Nt(i,n,c);e.setUncontrolledState({expandedKeys:n,flattenNodes:u},!0)},e.onNodeExpand=function(n,r){var i=e.state.expandedKeys,c=e.state,u=c.listChanging,v=c.fieldNames,p=e.props,m=p.onExpand,g=p.loadData,y=r.expanded,h=r[v.key];if(!u){var x=i.indexOf(h),C=!y;if(Me(y&&x!==-1||!y&&x===-1,"Expand state not sync with index check"),C?i=Ie(i,h):i=Re(i,h),e.setExpandedKeys(i),m==null||m(i,{node:r,expanded:C,nativeEvent:n.nativeEvent}),C&&g){var S=e.onNodeLoad(r);S&&S.then(function(){var E=Nt(e.state.treeData,i,v);e.setUncontrolledState({flattenNodes:E})}).catch(function(){var E=e.state.expandedKeys,b=Re(E,h);e.setExpandedKeys(b)})}}},e.onListChangeStart=function(){e.setUncontrolledState({listChanging:!0})},e.onListChangeEnd=function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})},e.onActiveChange=function(n){var r=e.state.activeKey,i=e.props,c=i.onActiveChange,u=i.itemScrollOffset,v=u===void 0?0:u;r!==n&&(e.setState({activeKey:n}),n!==null&&e.scrollTo({key:n,offset:v}),c==null||c(n))},e.getActiveItem=function(){var n=e.state,r=n.activeKey,i=n.flattenNodes;return r===null?null:i.find(function(c){var u=c.key;return u===r})||null},e.offsetActiveKey=function(n){var r=e.state,i=r.flattenNodes,c=r.activeKey,u=i.findIndex(function(m){var g=m.key;return g===c});u===-1&&n<0&&(u=i.length),u=(u+n+i.length)%i.length;var v=i[u];if(v){var p=v.key;e.onActiveChange(p)}else e.onActiveChange(null)},e.onKeyDown=function(n){var r=e.state,i=r.activeKey,c=r.expandedKeys,u=r.checkedKeys,v=r.fieldNames,p=e.props,m=p.onKeyDown,g=p.checkable,y=p.selectable;switch(n.which){case Ve.UP:{e.offsetActiveKey(-1),n.preventDefault();break}case Ve.DOWN:{e.offsetActiveKey(1),n.preventDefault();break}}var h=e.getActiveItem();if(h&&h.data){var x=e.getTreeNodeRequiredProps(),C=h.data.isLeaf===!1||!!(h.data[v.children]||[]).length,S=ne(R(R({},Qe(i,x)),{},{data:h.data,active:!0}));switch(n.which){case Ve.LEFT:{C&&c.includes(i)?e.onNodeExpand({},S):h.parent&&e.onActiveChange(h.parent.key),n.preventDefault();break}case Ve.RIGHT:{C&&!c.includes(i)?e.onNodeExpand({},S):h.children&&h.children.length&&e.onActiveChange(h.children[0].key),n.preventDefault();break}case Ve.ENTER:case Ve.SPACE:{g&&!S.disabled&&S.checkable!==!1&&!S.disableCheckbox?e.onNodeCheck({},S,!u.includes(i)):!g&&y&&!S.disabled&&S.selectable!==!1&&e.onNodeSelect({},S);break}}}m==null||m(n)},e.setUncontrolledState=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var c=!1,u=!0,v={};Object.keys(n).forEach(function(p){if(p in e.props){u=!1;return}c=!0,v[p]=n[p]}),c&&(!r||u)&&e.setState(R(R({},v),i))}},e.scrollTo=function(n){e.listRef.current.scrollTo(n)},e}return On(l,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var a=this.props,s=a.activeKey,f=a.itemScrollOffset,n=f===void 0?0:f;s!==void 0&&s!==this.state.activeKey&&(this.setState({activeKey:s}),s!==null&&this.scrollTo({key:s,offset:n}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var a,s=this.state,f=s.focused,n=s.flattenNodes,r=s.keyEntities,i=s.draggingNodeKey,c=s.activeKey,u=s.dropLevelOffset,v=s.dropContainerKey,p=s.dropTargetKey,m=s.dropPosition,g=s.dragOverNodeKey,y=s.indent,h=this.props,x=h.prefixCls,C=h.className,S=h.style,E=h.showLine,b=h.focusable,L=h.tabIndex,T=L===void 0?0:L,K=h.selectable,I=h.showIcon,w=h.icon,k=h.switcherIcon,N=h.draggable,D=h.checkable,$=h.checkStrictly,O=h.disabled,P=h.motion,A=h.loadData,U=h.filterTreeNode,Y=h.height,B=h.itemHeight,ee=h.virtual,ie=h.titleRender,le=h.dropIndicatorRender,te=h.onContextMenu,H=h.onScroll,Z=h.direction,ve=h.rootClassName,X=h.rootStyle,q=ct(this.props,{aria:!0,data:!0}),j;return N&&(De(N)==="object"?j=N:typeof N=="function"?j={nodeDraggable:N}:j={}),d.createElement(Ot.Provider,{value:{prefixCls:x,selectable:K,showIcon:I,icon:w,switcherIcon:k,draggable:j,draggingNodeKey:i,checkable:D,checkStrictly:$,disabled:O,keyEntities:r,dropLevelOffset:u,dropContainerKey:v,dropTargetKey:p,dropPosition:m,dragOverNodeKey:g,indent:y,direction:Z,dropIndicatorRender:le,loadData:A,filterTreeNode:U,titleRender:ie,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},d.createElement("div",{role:"tree",className:G(x,C,ve,(a={},M(a,"".concat(x,"-show-line"),E),M(a,"".concat(x,"-focused"),f),M(a,"".concat(x,"-active-focused"),c!==null),a)),style:X},d.createElement(ir,V({ref:this.listRef,prefixCls:x,style:S,data:n,disabled:O,selectable:K,checkable:!!D,motion:P,dragging:i!==null,height:Y,itemHeight:B,virtual:ee,focusable:b,focused:f,tabIndex:T,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:te,onScroll:H},this.getTreeNodeRequiredProps(),q))))}}],[{key:"getDerivedStateFromProps",value:function(a,s){var f=s.prevProps,n={prevProps:a};function r(b){return!f&&b in a||f&&f[b]!==a[b]}var i,c=s.fieldNames;if(r("fieldNames")&&(c=ut(a.fieldNames),n.fieldNames=c),r("treeData")?i=a.treeData:r("children")&&(Me(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),i=Ar(a.children)),i){n.treeData=i;var u=Fr(i,{fieldNames:c});n.keyEntities=R(M({},Fe,or),u.keyEntities)}var v=n.keyEntities||s.keyEntities;if(r("expandedKeys")||f&&r("autoExpandParent"))n.expandedKeys=a.autoExpandParent||!f&&a.defaultExpandParent?Nn(a.expandedKeys,v):a.expandedKeys;else if(!f&&a.defaultExpandAll){var p=R({},v);delete p[Fe],n.expandedKeys=Object.keys(p).map(function(b){return p[b].key})}else!f&&a.defaultExpandedKeys&&(n.expandedKeys=a.autoExpandParent||a.defaultExpandParent?Nn(a.defaultExpandedKeys,v):a.defaultExpandedKeys);if(n.expandedKeys||delete n.expandedKeys,i||n.expandedKeys){var m=Nt(i||s.treeData,n.expandedKeys||s.expandedKeys,c);n.flattenNodes=m}if(a.selectable&&(r("selectedKeys")?n.selectedKeys=En(a.selectedKeys,a):!f&&a.defaultSelectedKeys&&(n.selectedKeys=En(a.defaultSelectedKeys,a))),a.checkable){var g;if(r("checkedKeys")?g=kt(a.checkedKeys)||{}:!f&&a.defaultCheckedKeys?g=kt(a.defaultCheckedKeys)||{}:i&&(g=kt(a.checkedKeys)||{checkedKeys:s.checkedKeys,halfCheckedKeys:s.halfCheckedKeys}),g){var y=g,h=y.checkedKeys,x=h===void 0?[]:h,C=y.halfCheckedKeys,S=C===void 0?[]:C;if(!a.checkStrictly){var E=St(x,!0,v);x=E.checkedKeys,S=E.halfCheckedKeys}n.checkedKeys=x,n.halfCheckedKeys=S}}return r("loadedKeys")&&(n.loadedKeys=a.loadedKeys),n}}]),l}(d.Component);lr.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:oo,allowDrop:function(){return!0},expandAction:!1};lr.TreeNode=Ze;export{Ze as C,He as E,ia as F,Xn as I,lr as T,St as a,Re as b,Fr as c,Ie as d,Nn as e,ut as f,Ar as g,Fa as h,qa as i,Qn as j,ft as k,Xe as l,la as m,da as n,yo as o};

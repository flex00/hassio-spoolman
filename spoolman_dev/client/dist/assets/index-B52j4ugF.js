import{r as l,a4 as N,a5 as I,a8 as z,a2 as w,a3 as L,aZ as H,a_ as F,ae as O,N as D,_ as U,a$ as M,d as _,G as B,b0 as h,j as a,Q as G,aK as P,b1 as V,aI as W,i as X,Y,Z,aL as j,a1 as A,aE as K,b2 as Q,t as q}from"./index-DVifsFYV.js";import{u as J}from"./utc-BBX0ZL_c.js";const ee=t=>{const{value:e,formatter:n,precision:o,decimalSeparator:d,groupSeparator:g="",prefixCls:s}=t;let r;if(typeof n=="function")r=n(e);else{const i=String(e),m=i.match(/^(-?)(\d*)(\.(\d+))?$/);if(!m||i==="-")r=i;else{const c=m[1];let u=m[2]||"0",f=m[4]||"";u=u.replace(/\B(?=(\d{3})+(?!\d))/g,g),typeof o=="number"&&(f=f.padEnd(o,"0").slice(0,o>0?o:0)),f&&(f=`${d}${f}`),r=[l.createElement("span",{key:"int",className:`${s}-content-value-int`},c,u),f&&l.createElement("span",{key:"decimal",className:`${s}-content-value-decimal`},f)]}}return l.createElement("span",{className:`${s}-content-value`},r)},te=t=>{const{componentCls:e,marginXXS:n,padding:o,colorTextDescription:d,titleFontSize:g,colorTextHeading:s,contentFontSize:r,fontFamily:i}=t;return{[`${e}`]:Object.assign(Object.assign({},z(t)),{[`${e}-title`]:{marginBottom:n,color:d,fontSize:g},[`${e}-skeleton`]:{paddingTop:o},[`${e}-content`]:{color:s,fontSize:r,fontFamily:i,[`${e}-content-value`]:{display:"inline-block",direction:"ltr"},[`${e}-content-prefix, ${e}-content-suffix`]:{display:"inline-block"},[`${e}-content-prefix`]:{marginInlineEnd:n},[`${e}-content-suffix`]:{marginInlineStart:n}}})}},ne=t=>{const{fontSizeHeading3:e,fontSize:n}=t;return{titleFontSize:n,contentFontSize:e}},ae=N("Statistic",t=>{const e=I(t,{});return[te(e)]},ne),$=t=>{const{prefixCls:e,className:n,rootClassName:o,style:d,valueStyle:g,value:s=0,title:r,valueRender:i,prefix:m,suffix:c,loading:u=!1,onMouseEnter:f,onMouseLeave:v,decimalSeparator:S=".",groupSeparator:C=","}=t,{getPrefixCls:E,direction:R,statistic:x}=l.useContext(w),p=E("statistic",e),[b,T]=ae(p),y=l.createElement(ee,Object.assign({decimalSeparator:S,groupSeparator:C,prefixCls:p},t,{value:s})),k=L(p,{[`${p}-rtl`]:R==="rtl"},x==null?void 0:x.className,n,o,T);return b(l.createElement("div",{className:k,style:Object.assign(Object.assign({},x==null?void 0:x.style),d),onMouseEnter:f,onMouseLeave:v},r&&l.createElement("div",{className:`${p}-title`},r),l.createElement(H,{paragraph:!1,loading:u,className:`${p}-skeleton`},l.createElement("div",{style:g,className:`${p}-content`},m&&l.createElement("span",{className:`${p}-content-prefix`},m),i?i(y):y,c&&l.createElement("span",{className:`${p}-content-suffix`},c)))))},oe=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function se(t,e){let n=t;const o=/\[[^\]]*]/g,d=(e.match(o)||[]).map(i=>i.slice(1,-1)),g=e.replace(o,"[]"),s=oe.reduce((i,m)=>{let[c,u]=m;if(i.includes(c)){const f=Math.floor(n/u);return n-=f*u,i.replace(new RegExp(`${c}+`,"g"),v=>{const S=v.length;return f.toString().padStart(S,"0")})}return i},g);let r=0;return s.replace(o,()=>{const i=d[r];return r+=1,i})}function ie(t,e){const{format:n=""}=e,o=new Date(t).getTime(),d=Date.now(),g=Math.max(o-d,0);return se(g,n)}const re=1e3/30;function ce(t){return new Date(t).getTime()}const le=t=>{const{value:e,format:n="HH:mm:ss",onChange:o,onFinish:d}=t,g=F(),s=l.useRef(null),r=()=>{d==null||d(),s.current&&(clearInterval(s.current),s.current=null)},i=()=>{const u=ce(e);u>=Date.now()&&(s.current=setInterval(()=>{g(),o==null||o(u-Date.now()),u<Date.now()&&r()},re))};l.useEffect(()=>(i(),()=>{s.current&&(clearInterval(s.current),s.current=null)}),[e]);const m=(u,f)=>ie(u,Object.assign(Object.assign({},f),{format:n})),c=u=>O(u,{title:void 0});return l.createElement($,Object.assign({},t,{valueRender:c,formatter:m}))},de=l.memo(le);$.Countdown=de;var ue=function(e,n){return l.createElement(D,U({},e,{ref:n,icon:M}))},me=l.forwardRef(ue);_.extend(J);const{useToken:fe}=A,xe=()=>{var r,i,m;const{token:t}=fe(),e=B(),n=h({resource:"spool",pagination:{pageSize:1}}),o=h({resource:"filament",pagination:{pageSize:1}}),d=h({resource:"vendor",pagination:{pageSize:1}}),g=!n.data||n.data.data.length>0,s=c=>a.jsx(K,{xs:12,md:6,children:a.jsx(Q,{loading:c.loading,actions:[a.jsx(j,{to:`/${c.resource}`,children:a.jsx(me,{})}),a.jsx(j,{to:`/${c.resource}/create`,children:a.jsx(q,{})})],children:a.jsx($,{title:e(`${c.resource}.${c.resource}`),value:c.value,prefix:c.icon})})});return a.jsxs(G,{style:{padding:"2em 20px",minHeight:280,maxWidth:800,margin:"0 auto",backgroundColor:t.colorBgContainer,borderRadius:t.borderRadiusLG,color:t.colorText,fontFamily:t.fontFamily,fontSize:t.fontSizeLG,lineHeight:1.5},children:[a.jsxs(P,{style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:t.fontSizeHeading1},children:[a.jsx("div",{style:{display:"inline-block",height:"1.5em",marginRight:"0.5em"},children:a.jsx(V,{})}),"Spoolman"]}),a.jsxs(W,{justify:"center",gutter:[16,16],style:{marginTop:"3em"},children:[a.jsx(s,{resource:"spool",value:((r=n.data)==null?void 0:r.total)||0,loading:n.isLoading,icon:a.jsx(X,{})}),a.jsx(s,{resource:"filament",value:((i=o.data)==null?void 0:i.total)||0,loading:o.isLoading,icon:a.jsx(Y,{})}),a.jsx(s,{resource:"vendor",value:((m=d.data)==null?void 0:m.total)||0,loading:d.isLoading,icon:a.jsx(Z,{})})]}),!g&&a.jsxs(a.Fragment,{children:[a.jsx("p",{style:{marginTop:32},children:"Welcome to your Spoolman instance!"}),a.jsxs("p",{children:["It looks like you haven't added any spools yet. See the ",a.jsx(j,{to:"/help",children:"Help page"})," for help getting started."]})]})]})};export{xe as Home,xe as default};
